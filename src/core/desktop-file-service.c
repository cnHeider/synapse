/* desktop-file-service.c generated by valac 0.30.1, the Vala compiler
 * generated from desktop-file-service.vala, do not modify */

/*
 * Copyright (C) 2010 Michal Hruby <michal.mhr@gmail.com>
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by Michal Hruby <michal.mhr@gmail.com>
 *             Alberto Aldegheri <albyrock87+dev@gmail.com>
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gdesktopappinfo.h>
#include <gio/gio.h>
#include <gee.h>
#include <locale.h>


#define SYNAPSE_TYPE_DESKTOP_ENVIRONMENT_TYPE (synapse_desktop_environment_type_get_type ())
#define _g_free0(var) (var = (g_free (var), NULL))

#define SYNAPSE_TYPE_DESKTOP_FILE_INFO (synapse_desktop_file_info_get_type ())
#define SYNAPSE_DESKTOP_FILE_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfo))
#define SYNAPSE_DESKTOP_FILE_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfoClass))
#define SYNAPSE_IS_DESKTOP_FILE_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SYNAPSE_TYPE_DESKTOP_FILE_INFO))
#define SYNAPSE_IS_DESKTOP_FILE_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SYNAPSE_TYPE_DESKTOP_FILE_INFO))
#define SYNAPSE_DESKTOP_FILE_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfoClass))

typedef struct _SynapseDesktopFileInfo SynapseDesktopFileInfo;
typedef struct _SynapseDesktopFileInfoClass SynapseDesktopFileInfoClass;
typedef struct _SynapseDesktopFileInfoPrivate SynapseDesktopFileInfoPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define SYNAPSE_TYPE_DESKTOP_FILE_SERVICE (synapse_desktop_file_service_get_type ())
#define SYNAPSE_DESKTOP_FILE_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileService))
#define SYNAPSE_DESKTOP_FILE_SERVICE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileServiceClass))
#define SYNAPSE_IS_DESKTOP_FILE_SERVICE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE))
#define SYNAPSE_IS_DESKTOP_FILE_SERVICE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE))
#define SYNAPSE_DESKTOP_FILE_SERVICE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileServiceClass))

typedef struct _SynapseDesktopFileService SynapseDesktopFileService;
typedef struct _SynapseDesktopFileServiceClass SynapseDesktopFileServiceClass;
typedef struct _SynapseDesktopFileServicePrivate SynapseDesktopFileServicePrivate;

#define SYNAPSE_UTILS_TYPE_ASYNC_ONCE (synapse_utils_async_once_get_type ())
#define SYNAPSE_UTILS_ASYNC_ONCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SYNAPSE_UTILS_TYPE_ASYNC_ONCE, SynapseUtilsAsyncOnce))
#define SYNAPSE_UTILS_ASYNC_ONCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SYNAPSE_UTILS_TYPE_ASYNC_ONCE, SynapseUtilsAsyncOnceClass))
#define SYNAPSE_UTILS_IS_ASYNC_ONCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SYNAPSE_UTILS_TYPE_ASYNC_ONCE))
#define SYNAPSE_UTILS_IS_ASYNC_ONCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SYNAPSE_UTILS_TYPE_ASYNC_ONCE))
#define SYNAPSE_UTILS_ASYNC_ONCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SYNAPSE_UTILS_TYPE_ASYNC_ONCE, SynapseUtilsAsyncOnceClass))

typedef struct _SynapseUtilsAsyncOnce SynapseUtilsAsyncOnce;
typedef struct _SynapseUtilsAsyncOnceClass SynapseUtilsAsyncOnceClass;
#define _synapse_utils_async_once_unref0(var) ((var == NULL) ? NULL : (var = (synapse_utils_async_once_unref (var), NULL)))
typedef struct _SynapseDesktopFileServiceInitializeData SynapseDesktopFileServiceInitializeData;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
typedef struct _SynapseDesktopFileServiceProcessDirectoryData SynapseDesktopFileServiceProcessDirectoryData;
typedef struct _SynapseDesktopFileServiceLoadAllDesktopFilesData SynapseDesktopFileServiceLoadAllDesktopFilesData;
typedef struct _SynapseDesktopFileServiceReloadDesktopFilesData SynapseDesktopFileServiceReloadDesktopFilesData;
#define _g_key_file_free0(var) ((var == NULL) ? NULL : (var = (g_key_file_free (var), NULL)))
typedef struct _SynapseDesktopFileServiceLoadDesktopFileData SynapseDesktopFileServiceLoadDesktopFileData;
typedef struct _SynapseDesktopFileServiceLoadMimeParentsFromFileData SynapseDesktopFileServiceLoadMimeParentsFromFileData;

typedef enum  {
	SYNAPSE_DESKTOP_FILE_ERROR_UNINTERESTING_ENTRY
} SynapseDesktopFileError;
#define SYNAPSE_DESKTOP_FILE_ERROR synapse_desktop_file_error_quark ()
typedef enum  {
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME = 1 << 0,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_KDE = 1 << 1,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_LXDE = 1 << 2,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_MATE = 1 << 3,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_RAZOR = 1 << 4,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ROX = 1 << 5,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_TDE = 1 << 6,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_UNITY = 1 << 7,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_XFCE = 1 << 8,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_EDE = 1 << 9,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_CINNAMON = 1 << 10,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_PANTHEON = 1 << 11,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_OLD = 1 << 12,
	SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL = 0xFFF
} SynapseDesktopEnvironmentType;

struct _SynapseDesktopFileInfo {
	GObject parent_instance;
	SynapseDesktopFileInfoPrivate * priv;
	gchar** mime_types;
	gint mime_types_length1;
};

struct _SynapseDesktopFileInfoClass {
	GObjectClass parent_class;
};

struct _SynapseDesktopFileInfoPrivate {
	gchar* _desktop_id;
	gchar* _name;
	gchar* _comment;
	gchar* _icon_name;
	gboolean _needs_terminal;
	gchar* _filename;
	gchar* _exec;
	gboolean _is_hidden;
	gboolean _is_valid;
	gchar* name_folded;
	SynapseDesktopEnvironmentType _show_in;
};

struct _SynapseDesktopFileService {
	GObject parent_instance;
	SynapseDesktopFileServicePrivate * priv;
};

struct _SynapseDesktopFileServiceClass {
	GObjectClass parent_class;
};

struct _SynapseDesktopFileServicePrivate {
	SynapseUtilsAsyncOnce* init_once;
	GeeList* directory_monitors;
	GeeList* all_desktop_files;
	GeeList* non_hidden_desktop_files;
	GeeMap* mimetype_map;
	GeeMap* exec_map;
	GeeMap* desktop_id_map;
	GeeMultiMap* mimetype_parent_map;
	SynapseDesktopEnvironmentType session_type;
	const gchar* session_type_str;
	guint timer_id;
};

struct _SynapseDesktopFileServiceInitializeData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	SynapseUtilsAsyncOnce* _tmp0_;
	gboolean _tmp1_;
	gboolean is_locked;
	SynapseUtilsAsyncOnce* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	const gchar* _tmp5_;
	SynapseUtilsAsyncOnce* _tmp6_;
};

struct _SynapseDesktopFileServiceProcessDirectoryData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	GFile* directory;
	gchar* id_prefix;
	GeeSet* monitored_dirs;
	gchar* path;
	GFile* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	gboolean _tmp9_;
	const gchar* _tmp10_;
	gboolean exists;
	GFile* _tmp11_;
	gboolean _tmp12_;
	gboolean _tmp13_;
	GeeIterator* _scanned_dir_it;
	GeeSet* _tmp14_;
	GeeIterator* _tmp15_;
	GeeIterator* _tmp16_;
	gboolean _tmp17_;
	GFile* scanned_dir;
	GeeIterator* _tmp18_;
	gpointer _tmp19_;
	const gchar* _tmp20_;
	GFile* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gboolean _tmp24_;
	GeeSet* _tmp25_;
	GFile* _tmp26_;
	GFileEnumerator* enumerator;
	GFile* _tmp27_;
	GFileEnumerator* _tmp28_;
	GList* files;
	GFileEnumerator* _tmp29_;
	GList* _tmp30_;
	GList* _tmp31_;
	GList* f_collection;
	GList* f_it;
	GFileInfo* _tmp32_;
	GFileInfo* f;
	const gchar* name;
	GFileInfo* _tmp33_;
	const gchar* _tmp34_;
	GFileInfo* _tmp35_;
	GFileType _tmp36_;
	GFile* subdir;
	GFile* _tmp37_;
	const gchar* _tmp38_;
	GFile* _tmp39_;
	gchar* new_prefix;
	const gchar* _tmp40_;
	GFile* _tmp41_;
	gchar* _tmp42_;
	gchar* _tmp43_;
	gchar* _tmp44_;
	gchar* _tmp45_;
	GFile* _tmp46_;
	const gchar* _tmp47_;
	GeeSet* _tmp48_;
	const gchar* _tmp49_;
	gboolean _tmp50_;
	const gchar* _tmp51_;
	gboolean _tmp52_;
	GFile* _tmp53_;
	const gchar* _tmp54_;
	GFile* _tmp55_;
	GFile* _tmp56_;
	const gchar* _tmp57_;
	GError* err;
	GError* _tmp58_;
	const gchar* _tmp59_;
	GError * _inner_error_;
};

struct _SynapseDesktopFileServiceLoadAllDesktopFilesData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	gchar** data_dirs;
	gchar** _tmp0_;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gint _tmp2__length1;
	gint data_dirs_length1;
	gint _data_dirs_size_;
	gchar** _tmp3_;
	gint _tmp3__length1;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	GeeSet* desktop_file_dirs;
	GeeHashSet* _tmp6_;
	GeeMultiMap* _tmp7_;
	gchar** _tmp8_;
	gint _tmp8__length1;
	gchar** data_dir_collection;
	gint data_dir_collection_length1;
	gint _data_dir_collection_size_;
	gint data_dir_it;
	const gchar* data_dir;
	gchar* dir_path;
	const gchar* _tmp9_;
	gchar* _tmp10_;
	GFile* directory;
	const gchar* _tmp11_;
	GFile* _tmp12_;
	GFile* _tmp13_;
	GeeSet* _tmp14_;
	const gchar* _tmp15_;
	gchar* _tmp16_;
	const gchar* _tmp17_;
	GeeArrayList* _tmp18_;
	GeeIterator* _d_it;
	GeeSet* _tmp19_;
	GeeIterator* _tmp20_;
	GeeIterator* _tmp21_;
	gboolean _tmp22_;
	GFile* d;
	GeeIterator* _tmp23_;
	gpointer _tmp24_;
	GFileMonitor* monitor;
	GFile* _tmp25_;
	GFileMonitor* _tmp26_;
	GFileMonitor* _tmp27_;
	GeeList* _tmp28_;
	GFileMonitor* _tmp29_;
	GError* err;
	GError* _tmp30_;
	const gchar* _tmp31_;
	GError * _inner_error_;
};

struct _SynapseDesktopFileServiceReloadDesktopFilesData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	GeeList* _tmp0_;
	GeeList* _tmp1_;
};

struct _SynapseDesktopFileServiceLoadDesktopFileData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	GFile* file;
	gchar* id_prefix;
	guint8* file_contents;
	gint file_contents_length1;
	gint _file_contents_size_;
	gboolean success;
	GFile* _tmp0_;
	guint8* _tmp1_;
	gsize _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	GKeyFile* keyfile;
	GKeyFile* _tmp5_;
	GKeyFile* _tmp6_;
	guint8* _tmp7_;
	gint _tmp7__length1;
	guint8* _tmp8_;
	gint _tmp8__length1;
	gchar* desktop_id;
	const gchar* _tmp9_;
	GFile* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	SynapseDesktopFileInfo* dfi;
	GFile* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	GKeyFile* _tmp18_;
	const gchar* _tmp19_;
	SynapseDesktopFileInfo* _tmp20_;
	SynapseDesktopFileInfo* _tmp21_;
	SynapseDesktopFileInfo* _tmp22_;
	gboolean _tmp23_;
	gboolean _tmp24_;
	GeeList* _tmp25_;
	SynapseDesktopFileInfo* _tmp26_;
	gboolean _tmp27_;
	SynapseDesktopFileInfo* _tmp28_;
	gboolean _tmp29_;
	gboolean _tmp30_;
	SynapseDesktopEnvironmentType _tmp31_;
	SynapseDesktopFileInfo* _tmp32_;
	SynapseDesktopEnvironmentType _tmp33_;
	SynapseDesktopEnvironmentType _tmp34_;
	GeeList* _tmp35_;
	SynapseDesktopFileInfo* _tmp36_;
	GError* err;
	GError* _tmp37_;
	const gchar* _tmp38_;
	GError * _inner_error_;
};

struct _SynapseDesktopFileServiceLoadMimeParentsFromFileData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	SynapseDesktopFileService* self;
	gchar* fi;
	GFile* file;
	const gchar* _tmp0_;
	GFile* _tmp1_;
	gboolean exists;
	GFile* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	GFileInputStream* fis;
	GFile* _tmp5_;
	GFileInputStream* _tmp6_;
	GDataInputStream* dis;
	GFileInputStream* _tmp7_;
	GDataInputStream* _tmp8_;
	gchar* line;
	gchar** mimes;
	gint mimes_length1;
	gint _mimes_size_;
	gint len;
	gchar* _tmp9_;
	GDataInputStream* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	const gchar* _tmp13_;
	const gchar* _tmp14_;
	gboolean _tmp15_;
	const gchar* _tmp16_;
	gchar** _tmp17_;
	gchar** _tmp18_;
	gchar** _tmp19_;
	gint _tmp19__length1;
	guint _tmp20_;
	gint _tmp21_;
	gchar** _tmp22_;
	gint _tmp22__length1;
	const gchar* _tmp23_;
	gchar** _tmp24_;
	gint _tmp24__length1;
	const gchar* _tmp25_;
	GeeMultiMap* _tmp26_;
	gchar** _tmp27_;
	gint _tmp27__length1;
	const gchar* _tmp28_;
	gchar** _tmp29_;
	gint _tmp29__length1;
	const gchar* _tmp30_;
	GError* err;
	GError * _inner_error_;
};


static gpointer synapse_desktop_file_info_parent_class = NULL;
static gpointer synapse_desktop_file_service_parent_class = NULL;
static SynapseDesktopFileService* synapse_desktop_file_service_instance;
static SynapseDesktopFileService* synapse_desktop_file_service_instance = NULL;

GQuark synapse_desktop_file_error_quark (void);
GType synapse_desktop_environment_type_get_type (void) G_GNUC_CONST;
SynapseDesktopEnvironmentType synapse_desktop_environment_type_from_strings (gchar** environments, int environments_length1);
GType synapse_desktop_file_info_get_type (void) G_GNUC_CONST;
#define SYNAPSE_DESKTOP_FILE_INFO_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfoPrivate))
enum  {
	SYNAPSE_DESKTOP_FILE_INFO_DUMMY_PROPERTY,
	SYNAPSE_DESKTOP_FILE_INFO_DESKTOP_ID,
	SYNAPSE_DESKTOP_FILE_INFO_NAME,
	SYNAPSE_DESKTOP_FILE_INFO_COMMENT,
	SYNAPSE_DESKTOP_FILE_INFO_ICON_NAME,
	SYNAPSE_DESKTOP_FILE_INFO_NEEDS_TERMINAL,
	SYNAPSE_DESKTOP_FILE_INFO_FILENAME,
	SYNAPSE_DESKTOP_FILE_INFO_EXEC,
	SYNAPSE_DESKTOP_FILE_INFO_IS_HIDDEN,
	SYNAPSE_DESKTOP_FILE_INFO_IS_VALID,
	SYNAPSE_DESKTOP_FILE_INFO_SHOW_IN
};
const gchar* synapse_desktop_file_info_get_name_folded (SynapseDesktopFileInfo* self);
const gchar* synapse_desktop_file_info_get_name (SynapseDesktopFileInfo* self);
SynapseDesktopFileInfo* synapse_desktop_file_info_new_for_keyfile (const gchar* path, GKeyFile* keyfile, const gchar* desktop_id);
SynapseDesktopFileInfo* synapse_desktop_file_info_construct_for_keyfile (GType object_type, const gchar* path, GKeyFile* keyfile, const gchar* desktop_id);
static void synapse_desktop_file_info_init_from_keyfile (SynapseDesktopFileInfo* self, GKeyFile* keyfile);
static gboolean _vala_string_array_contains (gchar** stack, int stack_length, gchar* needle);
const gchar* synapse_desktop_file_info_get_filename (SynapseDesktopFileInfo* self);
void synapse_desktop_file_info_set_name (SynapseDesktopFileInfo* self, const gchar* value);
void synapse_desktop_file_info_set_exec (SynapseDesktopFileInfo* self, const gchar* value);
const gchar* synapse_desktop_file_info_get_exec (SynapseDesktopFileInfo* self);
static void synapse_desktop_file_info_set_is_hidden (SynapseDesktopFileInfo* self, gboolean value);
void synapse_desktop_file_info_set_comment (SynapseDesktopFileInfo* self, const gchar* value);
void synapse_desktop_file_info_set_icon_name (SynapseDesktopFileInfo* self, const gchar* value);
void synapse_desktop_file_info_set_needs_terminal (SynapseDesktopFileInfo* self, gboolean value);
void synapse_desktop_file_info_set_show_in (SynapseDesktopFileInfo* self, SynapseDesktopEnvironmentType value);
static void synapse_desktop_file_info_set_is_valid (SynapseDesktopFileInfo* self, gboolean value);
SynapseDesktopFileInfo* synapse_desktop_file_info_new (void);
SynapseDesktopFileInfo* synapse_desktop_file_info_construct (GType object_type);
const gchar* synapse_desktop_file_info_get_desktop_id (SynapseDesktopFileInfo* self);
void synapse_desktop_file_info_set_desktop_id (SynapseDesktopFileInfo* self, const gchar* value);
const gchar* synapse_desktop_file_info_get_comment (SynapseDesktopFileInfo* self);
const gchar* synapse_desktop_file_info_get_icon_name (SynapseDesktopFileInfo* self);
gboolean synapse_desktop_file_info_get_needs_terminal (SynapseDesktopFileInfo* self);
void synapse_desktop_file_info_set_filename (SynapseDesktopFileInfo* self, const gchar* value);
gboolean synapse_desktop_file_info_get_is_hidden (SynapseDesktopFileInfo* self);
gboolean synapse_desktop_file_info_get_is_valid (SynapseDesktopFileInfo* self);
SynapseDesktopEnvironmentType synapse_desktop_file_info_get_show_in (SynapseDesktopFileInfo* self);
static void synapse_desktop_file_info_finalize (GObject* obj);
static void _vala_synapse_desktop_file_info_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_synapse_desktop_file_info_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
GType synapse_desktop_file_service_get_type (void) G_GNUC_CONST;
gpointer synapse_utils_async_once_ref (gpointer instance);
void synapse_utils_async_once_unref (gpointer instance);
GParamSpec* synapse_utils_param_spec_async_once (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void synapse_utils_value_set_async_once (GValue* value, gpointer v_object);
void synapse_utils_value_take_async_once (GValue* value, gpointer v_object);
gpointer synapse_utils_value_get_async_once (const GValue* value);
GType synapse_utils_async_once_get_type (void) G_GNUC_CONST;
#define SYNAPSE_DESKTOP_FILE_SERVICE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileServicePrivate))
enum  {
	SYNAPSE_DESKTOP_FILE_SERVICE_DUMMY_PROPERTY
};
SynapseDesktopFileService* synapse_desktop_file_service_get_default (void);
static SynapseDesktopFileService* synapse_desktop_file_service_new (void);
static SynapseDesktopFileService* synapse_desktop_file_service_construct (GType object_type);
static void synapse_desktop_file_service_initialize_data_free (gpointer _data);
void synapse_desktop_file_service_initialize (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
void synapse_desktop_file_service_initialize_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
static gboolean synapse_desktop_file_service_initialize_co (SynapseDesktopFileServiceInitializeData* _data_);
gboolean synapse_utils_async_once_is_initialized (SynapseUtilsAsyncOnce* self);
void synapse_utils_async_once_enter (SynapseUtilsAsyncOnce* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
gboolean synapse_utils_async_once_enter_finish (SynapseUtilsAsyncOnce* self, GAsyncResult* _res_);
static void synapse_desktop_file_service_initialize_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_get_environment_type (SynapseDesktopFileService* self);
static gboolean _synapse_desktop_file_service_initialize_co_gsource_func (gpointer self);
static void synapse_desktop_file_service_load_all_desktop_files (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void synapse_desktop_file_service_load_all_desktop_files_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
void synapse_utils_async_once_leave (SynapseUtilsAsyncOnce* self, gconstpointer _result_);
SynapseDesktopEnvironmentType synapse_desktop_file_service_get_environment (SynapseDesktopFileService* self);
static gchar* synapse_desktop_file_service_get_cache_file_name (SynapseDesktopFileService* self, const gchar* dir_name);
static void synapse_desktop_file_service_process_directory_data_free (gpointer _data);
static void synapse_desktop_file_service_process_directory (SynapseDesktopFileService* self, GFile* directory, const gchar* id_prefix, GeeSet* monitored_dirs, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void synapse_desktop_file_service_process_directory_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
static gboolean synapse_desktop_file_service_process_directory_co (SynapseDesktopFileServiceProcessDirectoryData* _data_);
void synapse_utils_query_exists_async (GFile* f, GAsyncReadyCallback _callback_, gpointer _user_data_);
gboolean synapse_utils_query_exists_finish (GAsyncResult* _res_);
static void synapse_desktop_file_service_process_directory_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_load_desktop_file (SynapseDesktopFileService* self, GFile* file, const gchar* id_prefix, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void synapse_desktop_file_service_load_desktop_file_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
static void synapse_desktop_file_service_load_all_desktop_files_data_free (gpointer _data);
static gboolean synapse_desktop_file_service_load_all_desktop_files_co (SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_);
static gchar** _vala_array_dup2 (gchar** self, int length);
static void _vala_array_add5 (gchar*** array, int* length, int* size, gchar* value);
static void synapse_desktop_file_service_load_all_desktop_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_load_mime_parents_from_file (SynapseDesktopFileService* self, const gchar* fi, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void synapse_desktop_file_service_load_mime_parents_from_file_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
static void synapse_desktop_file_service_create_indices (SynapseDesktopFileService* self);
static void synapse_desktop_file_service_desktop_file_directory_changed (SynapseDesktopFileService* self);
static void _synapse_desktop_file_service_desktop_file_directory_changed_g_file_monitor_changed (GFileMonitor* _sender, GFile* file, GFile* other_file, GFileMonitorEvent event_type, gpointer self);
static gboolean __lambda9_ (SynapseDesktopFileService* self);
static void synapse_desktop_file_service_reload_desktop_files (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void synapse_desktop_file_service_reload_desktop_files_finish (SynapseDesktopFileService* self, GAsyncResult* _res_);
static gboolean ___lambda9__gsource_func (gpointer self);
static void synapse_desktop_file_service_reload_desktop_files_data_free (gpointer _data);
static gboolean synapse_desktop_file_service_reload_desktop_files_co (SynapseDesktopFileServiceReloadDesktopFilesData* _data_);
static void synapse_desktop_file_service_reload_desktop_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_load_desktop_file_data_free (gpointer _data);
static gboolean synapse_desktop_file_service_load_desktop_file_co (SynapseDesktopFileServiceLoadDesktopFileData* _data_);
static void synapse_desktop_file_service_load_desktop_file_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_load_mime_parents_from_file_data_free (gpointer _data);
static gboolean synapse_desktop_file_service_load_mime_parents_from_file_co (SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_);
static void synapse_desktop_file_service_load_mime_parents_from_file_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void synapse_desktop_file_service_add_dfi_for_mime (SynapseDesktopFileService* self, const gchar* mime, GeeSet* ret);
GeeList* synapse_desktop_file_service_get_desktop_files (SynapseDesktopFileService* self);
GeeList* synapse_desktop_file_service_get_all_desktop_files (SynapseDesktopFileService* self);
GeeList* synapse_desktop_file_service_get_desktop_files_for_type (SynapseDesktopFileService* self, const gchar* mime_type);
GeeList* synapse_desktop_file_service_get_desktop_files_for_exec (SynapseDesktopFileService* self, const gchar* exec);
SynapseDesktopFileInfo* synapse_desktop_file_service_get_desktop_file_for_id (SynapseDesktopFileService* self, const gchar* desktop_id);
static GObject * synapse_desktop_file_service_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
SynapseUtilsAsyncOnce* synapse_utils_async_once_new (GType g_type, GBoxedCopyFunc g_dup_func, GDestroyNotify g_destroy_func);
SynapseUtilsAsyncOnce* synapse_utils_async_once_construct (GType object_type, GType g_type, GBoxedCopyFunc g_dup_func, GDestroyNotify g_destroy_func);
static void synapse_desktop_file_service_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


GQuark synapse_desktop_file_error_quark (void) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	return g_quark_from_static_string ("synapse_desktop_file_error-quark");
#line 574 "desktop-file-service.c"
}


SynapseDesktopEnvironmentType synapse_desktop_environment_type_from_strings (gchar** environments, int environments_length1) {
	SynapseDesktopEnvironmentType result = 0;
	SynapseDesktopEnvironmentType _result_ = 0;
	gchar** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
#line 51 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_result_ = 0;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = environments;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0__length1 = environments_length1;
#line 589 "desktop-file-service.c"
	{
		gchar** env_collection = NULL;
		gint env_collection_length1 = 0;
		gint _env_collection_size_ = 0;
		gint env_it = 0;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		env_collection = _tmp0_;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		env_collection_length1 = _tmp0__length1;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		for (env_it = 0; env_it < _tmp0__length1; env_it = env_it + 1) {
#line 601 "desktop-file-service.c"
			const gchar* env = NULL;
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			env = env_collection[env_it];
#line 605 "desktop-file-service.c"
			{
				gchar* env_up = NULL;
				const gchar* _tmp1_ = NULL;
				gchar* _tmp2_ = NULL;
				const gchar* _tmp3_ = NULL;
				const gchar* _tmp4_ = NULL;
				GQuark _tmp6_ = 0U;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label0 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label1 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label2 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label3 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label4 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label5 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label6 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label7 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label8 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label9 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label10 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label11 = 0;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				static GQuark _tmp5_label12 = 0;
#line 54 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp1_ = env;
#line 54 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp2_ = g_utf8_strup (_tmp1_, (gssize) -1);
#line 54 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				env_up = _tmp2_;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp3_ = env_up;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp4_ = _tmp3_;
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp6_ = (NULL == _tmp4_) ? 0 : g_quark_from_string (_tmp4_);
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (_tmp6_ == ((0 != _tmp5_label0) ? _tmp5_label0 : (_tmp5_label0 = g_quark_from_static_string ("GNOME")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 655 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp7_ = 0;
#line 57 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp7_ = _result_;
#line 57 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp7_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME;
#line 57 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 665 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label1) ? _tmp5_label1 : (_tmp5_label1 = g_quark_from_static_string ("KDE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 671 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp8_ = 0;
#line 58 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp8_ = _result_;
#line 58 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp8_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_KDE;
#line 58 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 681 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label2) ? _tmp5_label2 : (_tmp5_label2 = g_quark_from_static_string ("LXDE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 687 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp9_ = 0;
#line 59 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp9_ = _result_;
#line 59 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp9_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_LXDE;
#line 59 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 697 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label3) ? _tmp5_label3 : (_tmp5_label3 = g_quark_from_static_string ("MATE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 703 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp10_ = 0;
#line 60 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp10_ = _result_;
#line 60 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp10_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_MATE;
#line 60 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 713 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label4) ? _tmp5_label4 : (_tmp5_label4 = g_quark_from_static_string ("RAZOR")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 719 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp11_ = 0;
#line 61 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp11_ = _result_;
#line 61 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp11_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_RAZOR;
#line 61 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 729 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label5) ? _tmp5_label5 : (_tmp5_label5 = g_quark_from_static_string ("ROX")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 735 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp12_ = 0;
#line 62 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp12_ = _result_;
#line 62 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp12_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ROX;
#line 62 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 745 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label6) ? _tmp5_label6 : (_tmp5_label6 = g_quark_from_static_string ("TDE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 751 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp13_ = 0;
#line 63 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp13_ = _result_;
#line 63 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp13_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_TDE;
#line 63 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 761 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label7) ? _tmp5_label7 : (_tmp5_label7 = g_quark_from_static_string ("UNITY")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 767 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp14_ = 0;
#line 64 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp14_ = _result_;
#line 64 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp14_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_UNITY;
#line 64 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 777 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label8) ? _tmp5_label8 : (_tmp5_label8 = g_quark_from_static_string ("XFCE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 783 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp15_ = 0;
#line 65 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp15_ = _result_;
#line 65 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp15_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_XFCE;
#line 65 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 793 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label9) ? _tmp5_label9 : (_tmp5_label9 = g_quark_from_static_string ("EDE")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 799 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp16_ = 0;
#line 66 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp16_ = _result_;
#line 66 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp16_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_EDE;
#line 66 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 809 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label10) ? _tmp5_label10 : (_tmp5_label10 = g_quark_from_static_string ("CINNAMON")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 815 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp17_ = 0;
#line 67 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp17_ = _result_;
#line 67 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp17_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_CINNAMON;
#line 67 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 825 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label11) ? _tmp5_label11 : (_tmp5_label11 = g_quark_from_static_string ("OLD")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 831 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp18_ = 0;
#line 68 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp18_ = _result_;
#line 68 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp18_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_OLD;
#line 68 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 841 "desktop-file-service.c"
						}
					}
				} else if (_tmp6_ == ((0 != _tmp5_label12) ? _tmp5_label12 : (_tmp5_label12 = g_quark_from_static_string ("PANTHEON")))) {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 847 "desktop-file-service.c"
						default:
						{
							SynapseDesktopEnvironmentType _tmp19_ = 0;
#line 70 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp19_ = _result_;
#line 70 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_result_ = _tmp19_ | SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_PANTHEON;
#line 70 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 857 "desktop-file-service.c"
						}
					}
				} else {
#line 55 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					switch (0) {
#line 863 "desktop-file-service.c"
						default:
						{
							const gchar* _tmp20_ = NULL;
#line 72 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp20_ = env;
#line 72 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							g_warning ("desktop-file-service.vala:72: %s is not understood", _tmp20_);
#line 72 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							break;
#line 873 "desktop-file-service.c"
						}
					}
				}
#line 52 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (env_up);
#line 879 "desktop-file-service.c"
			}
		}
	}
#line 75 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _result_;
#line 75 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 887 "desktop-file-service.c"
}


GType synapse_desktop_environment_type_get_type (void) {
	static volatile gsize synapse_desktop_environment_type_type_id__volatile = 0;
	if (g_once_init_enter (&synapse_desktop_environment_type_type_id__volatile)) {
		static const GFlagsValue values[] = {{SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME", "gnome"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_KDE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_KDE", "kde"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_LXDE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_LXDE", "lxde"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_MATE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_MATE", "mate"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_RAZOR, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_RAZOR", "razor"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ROX, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ROX", "rox"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_TDE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_TDE", "tde"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_UNITY, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_UNITY", "unity"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_XFCE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_XFCE", "xfce"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_EDE, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_EDE", "ede"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_CINNAMON, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_CINNAMON", "cinnamon"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_PANTHEON, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_PANTHEON", "pantheon"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_OLD, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_OLD", "old"}, {SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL, "SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL", "all"}, {0, NULL, NULL}};
		GType synapse_desktop_environment_type_type_id;
		synapse_desktop_environment_type_type_id = g_flags_register_static ("SynapseDesktopEnvironmentType", values);
		g_once_init_leave (&synapse_desktop_environment_type_type_id__volatile, synapse_desktop_environment_type_type_id);
	}
	return synapse_desktop_environment_type_type_id__volatile;
}


const gchar* synapse_desktop_file_info_get_name_folded (SynapseDesktopFileInfo* self) {
	const gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp3_ = NULL;
#line 97 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->name_folded;
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp0_ == NULL) {
#line 913 "desktop-file-service.c"
		const gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp1_ = self->priv->_name;
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp2_ = g_utf8_casefold (_tmp1_, (gssize) -1);
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (self->priv->name_folded);
#line 99 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		self->priv->name_folded = _tmp2_;
#line 924 "desktop-file-service.c"
	}
#line 100 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = self->priv->name_folded;
#line 100 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp3_;
#line 100 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 932 "desktop-file-service.c"
}


SynapseDesktopFileInfo* synapse_desktop_file_info_construct_for_keyfile (GType object_type, const gchar* path, GKeyFile* keyfile, const gchar* desktop_id) {
	SynapseDesktopFileInfo * self = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GKeyFile* _tmp2_ = NULL;
#line 105 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 105 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (keyfile != NULL, NULL);
#line 105 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (desktop_id != NULL, NULL);
#line 108 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = path;
#line 108 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = desktop_id;
#line 108 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = (SynapseDesktopFileInfo*) g_object_new (object_type, "filename", _tmp0_, "desktop-id", _tmp1_, NULL);
#line 110 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = keyfile;
#line 110 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_info_init_from_keyfile (self, _tmp2_);
#line 105 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return self;
#line 959 "desktop-file-service.c"
}


SynapseDesktopFileInfo* synapse_desktop_file_info_new_for_keyfile (const gchar* path, GKeyFile* keyfile, const gchar* desktop_id) {
#line 105 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return synapse_desktop_file_info_construct_for_keyfile (SYNAPSE_TYPE_DESKTOP_FILE_INFO, path, keyfile, desktop_id);
#line 966 "desktop-file-service.c"
}


static gboolean _vala_string_array_contains (gchar** stack, int stack_length, gchar* needle) {
	int i;
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	for (i = 0; i < stack_length; i++) {
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (g_strcmp0 (stack[i], needle) == 0) {
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			return TRUE;
#line 978 "desktop-file-service.c"
		}
	}
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 983 "desktop-file-service.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return self ? g_object_ref (self) : NULL;
#line 990 "desktop-file-service.c"
}


static void synapse_desktop_file_info_init_from_keyfile (SynapseDesktopFileInfo* self, GKeyFile* keyfile) {
	GError * _inner_error_ = NULL;
#line 113 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 113 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (keyfile != NULL);
#line 1000 "desktop-file-service.c"
	{
		gchar* _tmp0_ = NULL;
		GKeyFile* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gboolean _tmp5_ = FALSE;
		gboolean _tmp7_ = FALSE;
		GKeyFile* _tmp8_ = NULL;
		gboolean _tmp9_ = FALSE;
		GDesktopAppInfo* app_info = NULL;
		GKeyFile* _tmp15_ = NULL;
		GDesktopAppInfo* _tmp16_ = NULL;
		GDesktopAppInfo* _tmp17_ = NULL;
		GDesktopAppInfo* _tmp23_ = NULL;
		const gchar* _tmp24_ = NULL;
		GDesktopAppInfo* _tmp25_ = NULL;
		const gchar* _tmp26_ = NULL;
		const gchar* _tmp27_ = NULL;
		gboolean _tmp33_ = FALSE;
		gboolean _tmp34_ = FALSE;
		GKeyFile* _tmp35_ = NULL;
		gboolean _tmp36_ = FALSE;
		gboolean _tmp40_ = FALSE;
		gboolean _tmp41_ = FALSE;
		GKeyFile* _tmp42_ = NULL;
		gboolean _tmp43_ = FALSE;
		const gchar* _tmp47_ = NULL;
		GDesktopAppInfo* _tmp48_ = NULL;
		const gchar* _tmp49_ = NULL;
		GIcon* _tmp50_ = NULL;
		GDesktopAppInfo* _tmp51_ = NULL;
		GIcon* _tmp52_ = NULL;
		GIcon* _tmp53_ = NULL;
		GIcon* icon = NULL;
		GIcon* _tmp55_ = NULL;
		GIcon* _tmp56_ = NULL;
		gchar* _tmp57_ = NULL;
		gchar* _tmp58_ = NULL;
		gboolean _tmp59_ = FALSE;
		GKeyFile* _tmp60_ = NULL;
		gboolean _tmp61_ = FALSE;
		gboolean _tmp67_ = FALSE;
		GKeyFile* _tmp68_ = NULL;
		gboolean _tmp69_ = FALSE;
		gboolean _tmp73_ = FALSE;
		GKeyFile* _tmp74_ = NULL;
		gboolean _tmp75_ = FALSE;
		gboolean _tmp90_ = FALSE;
		const gchar* _tmp91_ = NULL;
		gboolean _tmp92_ = FALSE;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp1_ = keyfile;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp2_ = g_key_file_get_string (_tmp1_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_TYPE, &_inner_error_);
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp0_ = _tmp2_;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1060 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp3_ = _tmp0_;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp0_ = NULL;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp4_ = _tmp3_;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp5_ = g_strcmp0 (_tmp4_, G_KEY_FILE_DESKTOP_TYPE_APPLICATION) != 0;
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (_tmp4_);
#line 117 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp5_) {
#line 1075 "desktop-file-service.c"
			GError* _tmp6_ = NULL;
#line 119 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp6_ = g_error_new_literal (SYNAPSE_DESKTOP_FILE_ERROR, SYNAPSE_DESKTOP_FILE_ERROR_UNINTERESTING_ENTRY, "Not Application-type desktop entry");
#line 119 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_inner_error_ = _tmp6_;
#line 119 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1083 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp8_ = keyfile;
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp9_ = g_key_file_has_key (_tmp8_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_CATEGORIES, &_inner_error_);
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp7_ = _tmp9_;
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1096 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp7_) {
#line 1101 "desktop-file-service.c"
			gchar** categories = NULL;
			GKeyFile* _tmp10_ = NULL;
			gsize _tmp11_;
			gchar** _tmp12_ = NULL;
			gint categories_length1 = 0;
			gint _categories_size_ = 0;
			gchar** _tmp13_ = NULL;
			gint _tmp13__length1 = 0;
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp10_ = keyfile;
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp12_ = g_key_file_get_string_list (_tmp10_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_CATEGORIES, &_tmp11_, &_inner_error_);
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			categories = _tmp12_;
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			categories_length1 = _tmp11_;
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_categories_size_ = categories_length1;
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 124 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1124 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp13_ = categories;
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp13__length1 = categories_length1;
#line 125 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_vala_string_array_contains (_tmp13_, _tmp13__length1, "Screensaver")) {
#line 1133 "desktop-file-service.c"
				GError* _tmp14_ = NULL;
#line 127 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp14_ = g_error_new_literal (SYNAPSE_DESKTOP_FILE_ERROR, SYNAPSE_DESKTOP_FILE_ERROR_UNINTERESTING_ENTRY, "Screensaver desktop entry");
#line 127 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_inner_error_ = _tmp14_;
#line 127 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				categories = (_vala_array_free (categories, categories_length1, (GDestroyNotify) g_free), NULL);
#line 127 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1143 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 122 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			categories = (_vala_array_free (categories, categories_length1, (GDestroyNotify) g_free), NULL);
#line 1148 "desktop-file-service.c"
		}
#line 132 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp15_ = keyfile;
#line 132 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp16_ = g_desktop_app_info_new_from_keyfile (_tmp15_);
#line 132 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (app_info);
#line 132 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		app_info = _tmp16_;
#line 134 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp17_ = app_info;
#line 134 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp17_ == NULL) {
#line 1162 "desktop-file-service.c"
			const gchar* _tmp18_ = NULL;
			gchar* _tmp19_ = NULL;
			gchar* _tmp20_ = NULL;
			GError* _tmp21_ = NULL;
			GError* _tmp22_ = NULL;
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp18_ = self->priv->_filename;
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp19_ = g_strdup_printf ("Unable to create AppInfo for %s", _tmp18_);
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp20_ = _tmp19_;
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp21_ = g_error_new_literal (SYNAPSE_DESKTOP_FILE_ERROR, SYNAPSE_DESKTOP_FILE_ERROR_UNINTERESTING_ENTRY, _tmp20_);
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp22_ = _tmp21_;
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp20_);
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_inner_error_ = _tmp22_;
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 136 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1186 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 139 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp23_ = app_info;
#line 139 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp24_ = g_app_info_get_name ((GAppInfo*) _tmp23_);
#line 139 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_name (self, _tmp24_);
#line 140 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp25_ = app_info;
#line 140 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp26_ = g_app_info_get_commandline ((GAppInfo*) _tmp25_);
#line 140 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_exec (self, _tmp26_);
#line 141 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp27_ = self->priv->_exec;
#line 141 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp27_ == NULL) {
#line 1205 "desktop-file-service.c"
			const gchar* _tmp28_ = NULL;
			gchar* _tmp29_ = NULL;
			gchar* _tmp30_ = NULL;
			GError* _tmp31_ = NULL;
			GError* _tmp32_ = NULL;
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp28_ = self->priv->_name;
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp29_ = g_strdup_printf ("Unable to get exec for %s", _tmp28_);
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp30_ = _tmp29_;
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp31_ = g_error_new_literal (SYNAPSE_DESKTOP_FILE_ERROR, SYNAPSE_DESKTOP_FILE_ERROR_UNINTERESTING_ENTRY, _tmp30_);
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp32_ = _tmp31_;
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp30_);
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_inner_error_ = _tmp32_;
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 143 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1229 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp35_ = keyfile;
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp36_ = g_key_file_has_key (_tmp35_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_HIDDEN, &_inner_error_);
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp34_ = _tmp36_;
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1244 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp34_) {
#line 1249 "desktop-file-service.c"
			gboolean _tmp37_ = FALSE;
			GKeyFile* _tmp38_ = NULL;
			gboolean _tmp39_ = FALSE;
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp38_ = keyfile;
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp39_ = g_key_file_get_boolean (_tmp38_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_HIDDEN, &_inner_error_);
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp37_ = _tmp39_;
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1265 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 148 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp33_ = _tmp37_;
#line 1270 "desktop-file-service.c"
		} else {
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp33_ = FALSE;
#line 1274 "desktop-file-service.c"
		}
#line 147 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp33_) {
#line 150 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_info_set_is_hidden (self, TRUE);
#line 1280 "desktop-file-service.c"
		}
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp42_ = keyfile;
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp43_ = g_key_file_has_key (_tmp42_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_NO_DISPLAY, &_inner_error_);
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp41_ = _tmp43_;
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1294 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp41_) {
#line 1299 "desktop-file-service.c"
			gboolean _tmp44_ = FALSE;
			GKeyFile* _tmp45_ = NULL;
			gboolean _tmp46_ = FALSE;
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp45_ = keyfile;
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp46_ = g_key_file_get_boolean (_tmp45_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_NO_DISPLAY, &_inner_error_);
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp44_ = _tmp46_;
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1315 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 153 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp40_ = _tmp44_;
#line 1320 "desktop-file-service.c"
		} else {
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp40_ = FALSE;
#line 1324 "desktop-file-service.c"
		}
#line 152 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp40_) {
#line 155 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_info_set_is_hidden (self, TRUE);
#line 1330 "desktop-file-service.c"
		}
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp48_ = app_info;
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp49_ = g_app_info_get_description ((GAppInfo*) _tmp48_);
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp47_ = _tmp49_;
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp47_ == NULL) {
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp47_ = "";
#line 1342 "desktop-file-service.c"
		}
#line 158 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_comment (self, _tmp47_);
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp51_ = app_info;
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp52_ = g_app_info_get_icon ((GAppInfo*) _tmp51_);
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp53_ = _g_object_ref0 (_tmp52_);
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp50_ = _tmp53_;
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp50_ == NULL) {
#line 1356 "desktop-file-service.c"
			GThemedIcon* _tmp54_ = NULL;
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp54_ = (GThemedIcon*) g_themed_icon_new ("application-default-icon");
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_tmp50_);
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp50_ = (GIcon*) _tmp54_;
#line 1364 "desktop-file-service.c"
		}
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp55_ = _tmp50_;
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp50_ = NULL;
#line 160 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		icon = _tmp55_;
#line 161 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp56_ = icon;
#line 161 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp57_ = g_icon_to_string (_tmp56_);
#line 161 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp58_ = _tmp57_;
#line 161 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_icon_name (self, _tmp58_);
#line 161 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (_tmp58_);
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp60_ = keyfile;
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp61_ = g_key_file_has_key (_tmp60_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_MIME_TYPE, &_inner_error_);
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp59_ = _tmp61_;
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (icon);
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_tmp50_);
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1398 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp59_) {
#line 1403 "desktop-file-service.c"
			gchar** _tmp62_ = NULL;
			GKeyFile* _tmp63_ = NULL;
			gsize _tmp64_;
			gchar** _tmp65_ = NULL;
			gint _tmp62__length1 = 0;
			gint __tmp62__size_ = 0;
			gchar** _tmp66_ = NULL;
			gint _tmp66__length1 = 0;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp63_ = keyfile;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp65_ = g_key_file_get_string_list (_tmp63_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_MIME_TYPE, &_tmp64_, &_inner_error_);
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp62_ = _tmp65_;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp62__length1 = _tmp64_;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			__tmp62__size_ = _tmp62__length1;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (icon);
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_tmp50_);
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1432 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp66_ = _tmp62_;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp66__length1 = _tmp62__length1;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp62_ = NULL;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp62__length1 = 0;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			self->mime_types = (_vala_array_free (self->mime_types, self->mime_types_length1, (GDestroyNotify) g_free), NULL);
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			self->mime_types = _tmp66_;
#line 165 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			self->mime_types_length1 = _tmp66__length1;
#line 163 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp62_ = (_vala_array_free (_tmp62_, _tmp62__length1, (GDestroyNotify) g_free), NULL);
#line 1451 "desktop-file-service.c"
		}
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp68_ = keyfile;
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp69_ = g_key_file_has_key (_tmp68_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_TERMINAL, &_inner_error_);
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp67_ = _tmp69_;
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (icon);
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_tmp50_);
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1469 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 167 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp67_) {
#line 1474 "desktop-file-service.c"
			gboolean _tmp70_ = FALSE;
			GKeyFile* _tmp71_ = NULL;
			gboolean _tmp72_ = FALSE;
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp71_ = keyfile;
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp72_ = g_key_file_get_boolean (_tmp71_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_TERMINAL, &_inner_error_);
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp70_ = _tmp72_;
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (icon);
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_tmp50_);
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1494 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 169 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_info_set_needs_terminal (self, _tmp70_);
#line 1499 "desktop-file-service.c"
		}
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp74_ = keyfile;
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp75_ = g_key_file_has_key (_tmp74_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_ONLY_SHOW_IN, &_inner_error_);
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp73_ = _tmp75_;
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (icon);
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_tmp50_);
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (app_info);
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp0_);
#line 1517 "desktop-file-service.c"
			goto __catch9_g_error;
		}
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp73_) {
#line 1522 "desktop-file-service.c"
			gchar** _tmp76_ = NULL;
			GKeyFile* _tmp77_ = NULL;
			gsize _tmp78_;
			gchar** _tmp79_ = NULL;
			gint _tmp76__length1 = 0;
			gint __tmp76__size_ = 0;
			SynapseDesktopEnvironmentType _tmp80_ = 0;
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp77_ = keyfile;
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp79_ = g_key_file_get_string_list (_tmp77_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_ONLY_SHOW_IN, &_tmp78_, &_inner_error_);
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp76_ = _tmp79_;
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp76__length1 = _tmp78_;
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			__tmp76__size_ = _tmp76__length1;
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (icon);
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_tmp50_);
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1550 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp80_ = synapse_desktop_environment_type_from_strings (_tmp76_, _tmp76__length1);
#line 173 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_info_set_show_in (self, _tmp80_);
#line 171 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp76_ = (_vala_array_free (_tmp76_, _tmp76__length1, (GDestroyNotify) g_free), NULL);
#line 1559 "desktop-file-service.c"
		} else {
			gboolean _tmp81_ = FALSE;
			GKeyFile* _tmp82_ = NULL;
			gboolean _tmp83_ = FALSE;
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp82_ = keyfile;
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp83_ = g_key_file_has_key (_tmp82_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_NOT_SHOW_IN, &_inner_error_);
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp81_ = _tmp83_;
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (icon);
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_tmp50_);
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (app_info);
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp0_);
#line 1580 "desktop-file-service.c"
				goto __catch9_g_error;
			}
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp81_) {
#line 1585 "desktop-file-service.c"
				gchar** _tmp84_ = NULL;
				GKeyFile* _tmp85_ = NULL;
				gsize _tmp86_;
				gchar** _tmp87_ = NULL;
				gint _tmp84__length1 = 0;
				gint __tmp84__size_ = 0;
				SynapseDesktopEnvironmentType not_show = 0;
				SynapseDesktopEnvironmentType _tmp88_ = 0;
				SynapseDesktopEnvironmentType _tmp89_ = 0;
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp85_ = keyfile;
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp87_ = g_key_file_get_string_list (_tmp85_, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_NOT_SHOW_IN, &_tmp86_, &_inner_error_);
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp84_ = _tmp87_;
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp84__length1 = _tmp86_;
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				__tmp84__size_ = _tmp84__length1;
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (icon);
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (_tmp50_);
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (app_info);
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_free0 (_tmp0_);
#line 1615 "desktop-file-service.c"
					goto __catch9_g_error;
				}
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp88_ = synapse_desktop_environment_type_from_strings (_tmp84_, _tmp84__length1);
#line 178 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				not_show = _tmp88_;
#line 180 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp89_ = not_show;
#line 180 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				synapse_desktop_file_info_set_show_in (self, SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL ^ _tmp89_);
#line 176 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp84_ = (_vala_array_free (_tmp84_, _tmp84__length1, (GDestroyNotify) g_free), NULL);
#line 1628 "desktop-file-service.c"
			}
		}
#line 185 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp91_ = self->priv->_filename;
#line 185 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp92_ = g_str_has_suffix (_tmp91_, "gconf-editor.desktop");
#line 185 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp92_) {
#line 185 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp90_ = TRUE;
#line 1639 "desktop-file-service.c"
		} else {
			const gchar* _tmp93_ = NULL;
			gboolean _tmp94_ = FALSE;
#line 186 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp93_ = self->priv->_filename;
#line 186 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp94_ = g_str_has_suffix (_tmp93_, "dconf-editor.desktop");
#line 186 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp90_ = _tmp94_;
#line 1649 "desktop-file-service.c"
		}
#line 185 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp90_) {
#line 188 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_info_set_is_hidden (self, FALSE);
#line 1655 "desktop-file-service.c"
		}
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (icon);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_tmp50_);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (app_info);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (_tmp0_);
#line 1665 "desktop-file-service.c"
	}
	goto __finally9;
	__catch9_g_error:
	{
		GError* err = NULL;
		GError* _tmp95_ = NULL;
		const gchar* _tmp96_ = NULL;
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		err = _inner_error_;
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_inner_error_ = NULL;
#line 193 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp95_ = err;
#line 193 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp96_ = _tmp95_->message;
#line 193 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_warning ("desktop-file-service.vala:193: %s", _tmp96_);
#line 194 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_is_valid (self, FALSE);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_error_free0 (err);
#line 1687 "desktop-file-service.c"
	}
	__finally9:
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_clear_error (&_inner_error_);
#line 115 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return;
#line 1698 "desktop-file-service.c"
	}
}


SynapseDesktopFileInfo* synapse_desktop_file_info_construct (GType object_type) {
	SynapseDesktopFileInfo * self = NULL;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = (SynapseDesktopFileInfo*) g_object_new (object_type, NULL);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return self;
#line 1709 "desktop-file-service.c"
}


SynapseDesktopFileInfo* synapse_desktop_file_info_new (void) {
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return synapse_desktop_file_info_construct (SYNAPSE_TYPE_DESKTOP_FILE_INFO);
#line 1716 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_desktop_id (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_desktop_id;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1731 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_desktop_id (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_desktop_id);
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_desktop_id = _tmp1_;
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "desktop-id");
#line 1750 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_name (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_name;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1765 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_name (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_name);
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_name = _tmp1_;
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "name");
#line 1784 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_comment (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_comment;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1799 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_comment (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_comment);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_comment = _tmp1_;
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "comment");
#line 1818 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_icon_name (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_icon_name;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1833 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_icon_name (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_icon_name);
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_icon_name = _tmp1_;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "icon-name");
#line 1852 "desktop-file-service.c"
}


gboolean synapse_desktop_file_info_get_needs_terminal (SynapseDesktopFileInfo* self) {
	gboolean result;
	gboolean _tmp0_ = FALSE;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_needs_terminal;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1867 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_needs_terminal (SynapseDesktopFileInfo* self, gboolean value) {
	gboolean _tmp0_ = FALSE;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_needs_terminal = _tmp0_;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "needs-terminal");
#line 1881 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_filename (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_filename;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1896 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_filename (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_filename);
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_filename = _tmp1_;
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "filename");
#line 1915 "desktop-file-service.c"
}


const gchar* synapse_desktop_file_info_get_exec (SynapseDesktopFileInfo* self) {
	const gchar* result;
	const gchar* _tmp0_ = NULL;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_exec;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1930 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_exec (SynapseDesktopFileInfo* self, const gchar* value) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_exec);
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_exec = _tmp1_;
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "exec");
#line 1949 "desktop-file-service.c"
}


gboolean synapse_desktop_file_info_get_is_hidden (SynapseDesktopFileInfo* self) {
	gboolean result;
	gboolean _tmp0_ = FALSE;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_is_hidden;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1964 "desktop-file-service.c"
}


static void synapse_desktop_file_info_set_is_hidden (SynapseDesktopFileInfo* self, gboolean value) {
	gboolean _tmp0_ = FALSE;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_is_hidden = _tmp0_;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "is-hidden");
#line 1978 "desktop-file-service.c"
}


gboolean synapse_desktop_file_info_get_is_valid (SynapseDesktopFileInfo* self) {
	gboolean result;
	gboolean _tmp0_ = FALSE;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_is_valid;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 1993 "desktop-file-service.c"
}


static void synapse_desktop_file_info_set_is_valid (SynapseDesktopFileInfo* self, gboolean value) {
	gboolean _tmp0_ = FALSE;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_is_valid = _tmp0_;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "is-valid");
#line 2007 "desktop-file-service.c"
}


SynapseDesktopEnvironmentType synapse_desktop_file_info_get_show_in (SynapseDesktopFileInfo* self) {
	SynapseDesktopEnvironmentType result;
	SynapseDesktopEnvironmentType _tmp0_ = 0;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->_show_in;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 2022 "desktop-file-service.c"
}


void synapse_desktop_file_info_set_show_in (SynapseDesktopFileInfo* self, SynapseDesktopEnvironmentType value) {
	SynapseDesktopEnvironmentType _tmp0_ = 0;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = value;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_show_in = _tmp0_;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_notify ((GObject *) self, "show-in");
#line 2036 "desktop-file-service.c"
}


static void synapse_desktop_file_info_class_init (SynapseDesktopFileInfoClass * klass) {
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_info_parent_class = g_type_class_peek_parent (klass);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_type_class_add_private (klass, sizeof (SynapseDesktopFileInfoPrivate));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_synapse_desktop_file_info_get_property;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_synapse_desktop_file_info_set_property;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (klass)->finalize = synapse_desktop_file_info_finalize;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_DESKTOP_ID, g_param_spec_string ("desktop-id", "desktop-id", "desktop-id", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_NAME, g_param_spec_string ("name", "name", "name", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_COMMENT, g_param_spec_string ("comment", "comment", "comment", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_ICON_NAME, g_param_spec_string ("icon-name", "icon-name", "icon-name", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_NEEDS_TERMINAL, g_param_spec_boolean ("needs-terminal", "needs-terminal", "needs-terminal", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_FILENAME, g_param_spec_string ("filename", "filename", "filename", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_EXEC, g_param_spec_string ("exec", "exec", "exec", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_IS_HIDDEN, g_param_spec_boolean ("is-hidden", "is-hidden", "is-hidden", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_IS_VALID, g_param_spec_boolean ("is-valid", "is-valid", "is-valid", TRUE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), SYNAPSE_DESKTOP_FILE_INFO_SHOW_IN, g_param_spec_flags ("show-in", "show-in", "show-in", SYNAPSE_TYPE_DESKTOP_ENVIRONMENT_TYPE, SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 2071 "desktop-file-service.c"
}


static void synapse_desktop_file_info_instance_init (SynapseDesktopFileInfo * self) {
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv = SYNAPSE_DESKTOP_FILE_INFO_GET_PRIVATE (self);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = g_strdup ("");
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_comment = _tmp0_;
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = g_strdup ("");
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_icon_name = _tmp1_;
#line 86 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_needs_terminal = FALSE;
#line 91 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_is_hidden = FALSE;
#line 92 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_is_valid = TRUE;
#line 94 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->mime_types = NULL;
#line 94 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->mime_types_length1 = 0;
#line 96 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->name_folded = NULL;
#line 103 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->_show_in = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ALL;
#line 2102 "desktop-file-service.c"
}


static void synapse_desktop_file_info_finalize (GObject* obj) {
	SynapseDesktopFileInfo * self;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfo);
#line 81 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_desktop_id);
#line 82 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_name);
#line 83 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_comment);
#line 84 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_icon_name);
#line 87 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_filename);
#line 89 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->_exec);
#line 94 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->mime_types = (_vala_array_free (self->mime_types, self->mime_types_length1, (GDestroyNotify) g_free), NULL);
#line 96 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (self->priv->name_folded);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (synapse_desktop_file_info_parent_class)->finalize (obj);
#line 2128 "desktop-file-service.c"
}


GType synapse_desktop_file_info_get_type (void) {
	static volatile gsize synapse_desktop_file_info_type_id__volatile = 0;
	if (g_once_init_enter (&synapse_desktop_file_info_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SynapseDesktopFileInfoClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) synapse_desktop_file_info_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SynapseDesktopFileInfo), 0, (GInstanceInitFunc) synapse_desktop_file_info_instance_init, NULL };
		GType synapse_desktop_file_info_type_id;
		synapse_desktop_file_info_type_id = g_type_register_static (G_TYPE_OBJECT, "SynapseDesktopFileInfo", &g_define_type_info, 0);
		g_once_init_leave (&synapse_desktop_file_info_type_id__volatile, synapse_desktop_file_info_type_id);
	}
	return synapse_desktop_file_info_type_id__volatile;
}


static void _vala_synapse_desktop_file_info_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	SynapseDesktopFileInfo * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfo);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (property_id) {
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_DESKTOP_ID:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_desktop_id (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_NAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_name (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_COMMENT:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_comment (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_ICON_NAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_icon_name (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_NEEDS_TERMINAL:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_boolean (value, synapse_desktop_file_info_get_needs_terminal (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_FILENAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_filename (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_EXEC:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_string (value, synapse_desktop_file_info_get_exec (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_IS_HIDDEN:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_boolean (value, synapse_desktop_file_info_get_is_hidden (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_IS_VALID:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_boolean (value, synapse_desktop_file_info_get_is_valid (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_SHOW_IN:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_value_set_flags (value, synapse_desktop_file_info_get_show_in (self));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 2209 "desktop-file-service.c"
		default:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 2215 "desktop-file-service.c"
	}
}


static void _vala_synapse_desktop_file_info_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	SynapseDesktopFileInfo * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SYNAPSE_TYPE_DESKTOP_FILE_INFO, SynapseDesktopFileInfo);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (property_id) {
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_DESKTOP_ID:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_desktop_id (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_NAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_name (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_COMMENT:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_comment (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_ICON_NAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_icon_name (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_NEEDS_TERMINAL:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_needs_terminal (self, g_value_get_boolean (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_FILENAME:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_filename (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_EXEC:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_exec (self, g_value_get_string (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_IS_HIDDEN:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_is_hidden (self, g_value_get_boolean (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_IS_VALID:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_is_valid (self, g_value_get_boolean (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case SYNAPSE_DESKTOP_FILE_INFO_SHOW_IN:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_desktop_file_info_set_show_in (self, g_value_get_flags (value));
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 2285 "desktop-file-service.c"
		default:
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 79 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		break;
#line 2291 "desktop-file-service.c"
	}
}


SynapseDesktopFileService* synapse_desktop_file_service_get_default (void) {
	SynapseDesktopFileService* result = NULL;
	SynapseDesktopFileService* _tmp0_ = NULL;
	SynapseDesktopFileService* _tmp1_ = NULL;
	SynapseDesktopFileService* _tmp2_ = NULL;
	SynapseDesktopFileService* _tmp4_ = NULL;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = synapse_desktop_file_service_instance;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _tmp2_;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp0_ == NULL) {
#line 2310 "desktop-file-service.c"
		SynapseDesktopFileService* _tmp3_ = NULL;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp3_ = synapse_desktop_file_service_new ();
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_tmp0_);
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp0_ = _tmp3_;
#line 2318 "desktop-file-service.c"
	}
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = _tmp0_;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = NULL;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp4_;
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_tmp0_);
#line 207 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 2330 "desktop-file-service.c"
}


static SynapseDesktopFileService* synapse_desktop_file_service_construct (GType object_type) {
	SynapseDesktopFileService * self = NULL;
#line 210 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = (SynapseDesktopFileService*) g_object_new (object_type, NULL);
#line 210 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return self;
#line 2340 "desktop-file-service.c"
}


static SynapseDesktopFileService* synapse_desktop_file_service_new (void) {
#line 210 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return synapse_desktop_file_service_construct (SYNAPSE_TYPE_DESKTOP_FILE_SERVICE);
#line 2347 "desktop-file-service.c"
}


static void synapse_desktop_file_service_initialize_data_free (gpointer _data) {
	SynapseDesktopFileServiceInitializeData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceInitializeData, _data_);
#line 2358 "desktop-file-service.c"
}


void synapse_desktop_file_service_initialize (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceInitializeData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceInitializeData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_initialize);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_initialize_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_initialize_co (_data_);
#line 2377 "desktop-file-service.c"
}


void synapse_desktop_file_service_initialize_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceInitializeData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 2385 "desktop-file-service.c"
}


static void synapse_desktop_file_service_initialize_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceInitializeData* _data_;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_initialize_co (_data_);
#line 2399 "desktop-file-service.c"
}


static gboolean _synapse_desktop_file_service_initialize_co_gsource_func (gpointer self) {
	gboolean result;
	result = synapse_desktop_file_service_initialize_co (self);
#line 249 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 2408 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_initialize_co (SynapseDesktopFileServiceInitializeData* _data_) {
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 2417 "desktop-file-service.c"
		goto _state_0;
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 2421 "desktop-file-service.c"
		goto _state_1;
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 2:
#line 2425 "desktop-file-service.c"
		goto _state_2;
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 3:
#line 2429 "desktop-file-service.c"
		goto _state_3;
		default:
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 2434 "desktop-file-service.c"
	}
	_state_0:
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = NULL;
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = _data_->self->priv->init_once;
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = FALSE;
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = synapse_utils_async_once_is_initialized (_data_->_tmp0_);
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_tmp1_) {
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_state_ == 0) {
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 2451 "desktop-file-service.c"
		} else {
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 2455 "desktop-file-service.c"
		}
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_object_unref (_data_->_async_result);
#line 242 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 2461 "desktop-file-service.c"
	}
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = NULL;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = _data_->self->priv->init_once;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_state_ = 1;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_utils_async_once_enter (_data_->_tmp2_, synapse_desktop_file_service_initialize_ready, _data_);
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 2473 "desktop-file-service.c"
	_state_1:
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = FALSE;
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = synapse_utils_async_once_enter_finish (_data_->_tmp2_, _data_->_res_);
#line 243 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->is_locked = _data_->_tmp3_;
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = FALSE;
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = _data_->is_locked;
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (!_data_->_tmp4_) {
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_state_ == 0) {
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 2491 "desktop-file-service.c"
		} else {
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 2495 "desktop-file-service.c"
		}
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_object_unref (_data_->_async_result);
#line 244 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 2501 "desktop-file-service.c"
	}
#line 246 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_get_environment_type (_data_->self);
#line 247 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp5_ = NULL;
#line 247 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp5_ = _data_->self->priv->session_type_str;
#line 247 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_desktop_app_info_set_desktop_env (_data_->_tmp5_);
#line 249 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_idle_add_full (G_PRIORITY_LOW, _synapse_desktop_file_service_initialize_co_gsource_func, _data_, NULL);
#line 250 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_state_ = 2;
#line 250 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 2517 "desktop-file-service.c"
	_state_2:
	;
#line 252 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_state_ = 3;
#line 252 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files (_data_->self, synapse_desktop_file_service_initialize_ready, _data_);
#line 252 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 2526 "desktop-file-service.c"
	_state_3:
#line 252 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files_finish (_data_->self, _data_->_res_);
#line 254 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp6_ = NULL;
#line 254 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp6_ = _data_->self->priv->init_once;
#line 254 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_utils_async_once_leave (_data_->_tmp6_, (gpointer) ((gintptr) TRUE));
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 2540 "desktop-file-service.c"
	} else {
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 2544 "desktop-file-service.c"
	}
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 240 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 2550 "desktop-file-service.c"
}


SynapseDesktopEnvironmentType synapse_desktop_file_service_get_environment (SynapseDesktopFileService* self) {
	SynapseDesktopEnvironmentType result = 0;
	SynapseDesktopEnvironmentType _tmp0_ = 0;
#line 260 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 262 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->session_type;
#line 262 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp0_;
#line 262 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 2565 "desktop-file-service.c"
}


static void synapse_desktop_file_service_get_environment_type (SynapseDesktopFileService* self) {
	const gchar* session_var = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* session = NULL;
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	const gchar* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
#line 265 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 268 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = g_getenv ("XDG_CURRENT_DESKTOP");
#line 268 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	session_var = _tmp0_;
#line 269 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = session_var;
#line 269 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp1_ == NULL) {
#line 2590 "desktop-file-service.c"
		const gchar* _tmp2_ = NULL;
#line 271 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp2_ = g_getenv ("DESKTOP_SESSION");
#line 271 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		session_var = _tmp2_;
#line 2596 "desktop-file-service.c"
	}
#line 274 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = session_var;
#line 274 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp3_ == NULL) {
#line 274 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return;
#line 2604 "desktop-file-service.c"
	}
#line 276 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = session_var;
#line 276 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp5_ = g_utf8_strdown (_tmp4_, (gssize) -1);
#line 276 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	session = _tmp5_;
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp7_ = session;
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp8_ = g_str_has_prefix (_tmp7_, "unity");
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp8_) {
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp6_ = TRUE;
#line 2620 "desktop-file-service.c"
	} else {
		const gchar* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp9_ = session;
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp10_ = g_str_has_prefix (_tmp9_, "ubuntu");
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp6_ = _tmp10_;
#line 2630 "desktop-file-service.c"
	}
#line 278 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp6_) {
#line 280 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_UNITY;
#line 281 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		self->priv->session_type_str = "Unity";
#line 2638 "desktop-file-service.c"
	} else {
		const gchar* _tmp11_ = NULL;
		gboolean _tmp12_ = FALSE;
#line 283 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp11_ = session;
#line 283 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp12_ = g_str_has_prefix (_tmp11_, "kde");
#line 283 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_tmp12_) {
#line 285 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_KDE;
#line 286 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			self->priv->session_type_str = "KDE";
#line 2652 "desktop-file-service.c"
		} else {
			const gchar* _tmp13_ = NULL;
			gboolean _tmp14_ = FALSE;
#line 288 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp13_ = session;
#line 288 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp14_ = g_str_has_prefix (_tmp13_, "gnome");
#line 288 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp14_) {
#line 290 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME;
#line 291 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				self->priv->session_type_str = "GNOME";
#line 2666 "desktop-file-service.c"
			} else {
				const gchar* _tmp15_ = NULL;
				gboolean _tmp16_ = FALSE;
#line 293 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp15_ = session;
#line 293 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp16_ = g_str_has_prefix (_tmp15_, "lx");
#line 293 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (_tmp16_) {
#line 295 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_LXDE;
#line 296 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					self->priv->session_type_str = "LXDE";
#line 2680 "desktop-file-service.c"
				} else {
					const gchar* _tmp17_ = NULL;
					gboolean _tmp18_ = FALSE;
#line 298 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_tmp17_ = session;
#line 298 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_tmp18_ = g_str_has_prefix (_tmp17_, "xfce");
#line 298 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					if (_tmp18_) {
#line 300 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_XFCE;
#line 301 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						self->priv->session_type_str = "XFCE";
#line 2694 "desktop-file-service.c"
					} else {
						const gchar* _tmp19_ = NULL;
						gboolean _tmp20_ = FALSE;
#line 303 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp19_ = session;
#line 303 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp20_ = g_str_has_prefix (_tmp19_, "mate");
#line 303 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						if (_tmp20_) {
#line 305 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_MATE;
#line 306 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							self->priv->session_type_str = "MATE";
#line 2708 "desktop-file-service.c"
						} else {
							const gchar* _tmp21_ = NULL;
							gboolean _tmp22_ = FALSE;
#line 308 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp21_ = session;
#line 308 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp22_ = g_str_has_prefix (_tmp21_, "razor");
#line 308 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							if (_tmp22_) {
#line 310 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
								self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_RAZOR;
#line 311 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
								self->priv->session_type_str = "Razor";
#line 2722 "desktop-file-service.c"
							} else {
								const gchar* _tmp23_ = NULL;
								gboolean _tmp24_ = FALSE;
#line 313 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
								_tmp23_ = session;
#line 313 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
								_tmp24_ = g_str_has_prefix (_tmp23_, "tde");
#line 313 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
								if (_tmp24_) {
#line 315 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
									self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_TDE;
#line 316 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
									self->priv->session_type_str = "TDE";
#line 2736 "desktop-file-service.c"
								} else {
									const gchar* _tmp25_ = NULL;
									gboolean _tmp26_ = FALSE;
#line 318 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
									_tmp25_ = session;
#line 318 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
									_tmp26_ = g_str_has_prefix (_tmp25_, "rox");
#line 318 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
									if (_tmp26_) {
#line 320 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
										self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_ROX;
#line 321 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
										self->priv->session_type_str = "ROX";
#line 2750 "desktop-file-service.c"
									} else {
										const gchar* _tmp27_ = NULL;
										gboolean _tmp28_ = FALSE;
#line 323 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
										_tmp27_ = session;
#line 323 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
										_tmp28_ = g_str_has_prefix (_tmp27_, "ede");
#line 323 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
										if (_tmp28_) {
#line 325 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
											self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_EDE;
#line 326 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
											self->priv->session_type_str = "EDE";
#line 2764 "desktop-file-service.c"
										} else {
											const gchar* _tmp29_ = NULL;
											gboolean _tmp30_ = FALSE;
#line 328 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
											_tmp29_ = session;
#line 328 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
											_tmp30_ = g_str_has_prefix (_tmp29_, "cinnamon");
#line 328 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
											if (_tmp30_) {
#line 330 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
												self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_CINNAMON;
#line 331 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
												self->priv->session_type_str = "Cinnamon";
#line 2778 "desktop-file-service.c"
											} else {
												const gchar* _tmp31_ = NULL;
												gboolean _tmp32_ = FALSE;
#line 333 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
												_tmp31_ = session;
#line 333 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
												_tmp32_ = g_str_has_prefix (_tmp31_, "pantheon");
#line 333 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
												if (_tmp32_) {
#line 335 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
													self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_PANTHEON;
#line 336 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
													self->priv->session_type_str = "Pantheon";
#line 2792 "desktop-file-service.c"
												} else {
#line 340 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
													g_warning ("desktop-file-service.vala:340: Desktop session type is not recognized," \
" assuming GNOME.");
#line 2796 "desktop-file-service.c"
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
#line 265 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (session);
#line 2811 "desktop-file-service.c"
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
#line 1282 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1282 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1282 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 2824 "desktop-file-service.c"
	{
		GRegex* regex = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		GRegex* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp0_ = old;
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_g_free0 (_tmp2_);
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		regex = _tmp4_;
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 2855 "desktop-file-service.c"
				goto __catch10_g_regex_error;
			}
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1284 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			return NULL;
#line 2864 "desktop-file-service.c"
		}
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp6_ = regex;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp7_ = replacement;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp8_ = g_regex_replace_literal (_tmp6_, self, (gssize) -1, 0, _tmp7_, 0, &_inner_error_);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp5_ = _tmp8_;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 2880 "desktop-file-service.c"
				goto __catch10_g_regex_error;
			}
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
			return NULL;
#line 2891 "desktop-file-service.c"
		}
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp9_ = _tmp5_;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_tmp5_ = NULL;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		result = _tmp9_;
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_g_free0 (_tmp5_);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1285 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		return result;
#line 2905 "desktop-file-service.c"
	}
	goto __finally10;
	__catch10_g_regex_error:
	{
		GError* e = NULL;
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1287 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 2919 "desktop-file-service.c"
	}
	__finally10:
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1283 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
		return NULL;
#line 2930 "desktop-file-service.c"
	}
}


static gchar* synapse_desktop_file_service_get_cache_file_name (SynapseDesktopFileService* self, const gchar* dir_name) {
	gchar* result = NULL;
	const gchar* locale = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* filename = NULL;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
#line 344 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 344 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (dir_name != NULL, NULL);
#line 347 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = setlocale (LC_MESSAGES, NULL);
#line 347 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	locale = _tmp0_;
#line 348 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = locale;
#line 348 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp1_ == NULL) {
#line 348 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		result = NULL;
#line 348 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return result;
#line 2965 "desktop-file-service.c"
	}
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = locale;
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = string_replace (_tmp2_, ".UTF-8", ".utf8");
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = _tmp3_;
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp5_ = g_strdup_printf ("desktop.%s.cache", _tmp4_);
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp6_ = _tmp5_;
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_tmp4_);
#line 352 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	filename = _tmp6_;
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp7_ = dir_name;
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp8_ = filename;
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp9_ = g_build_filename (_tmp7_, _tmp8_, NULL, NULL);
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp9_;
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (filename);
#line 355 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 2993 "desktop-file-service.c"
}


static void synapse_desktop_file_service_process_directory_data_free (gpointer _data) {
	SynapseDesktopFileServiceProcessDirectoryData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->directory);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->id_prefix);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->monitored_dirs);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceProcessDirectoryData, _data_);
#line 3010 "desktop-file-service.c"
}


static void synapse_desktop_file_service_process_directory (SynapseDesktopFileService* self, GFile* directory, const gchar* id_prefix, GeeSet* monitored_dirs, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceProcessDirectoryData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
	GFile* _tmp1_ = NULL;
	GFile* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	GeeSet* _tmp5_ = NULL;
	GeeSet* _tmp6_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceProcessDirectoryData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_process_directory);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_process_directory_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = directory;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->directory);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->directory = _tmp2_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = id_prefix;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = g_strdup (_tmp3_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->id_prefix);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->id_prefix = _tmp4_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp5_ = monitored_dirs;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->monitored_dirs);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->monitored_dirs = _tmp6_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_process_directory_co (_data_);
#line 3059 "desktop-file-service.c"
}


static void synapse_desktop_file_service_process_directory_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceProcessDirectoryData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 3067 "desktop-file-service.c"
}


static void synapse_desktop_file_service_process_directory_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceProcessDirectoryData* _data_;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_process_directory_co (_data_);
#line 3081 "desktop-file-service.c"
}


static void _g_object_unref0_ (gpointer var) {
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 3088 "desktop-file-service.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_list_free (self);
#line 3097 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_process_directory_co (SynapseDesktopFileServiceProcessDirectoryData* _data_) {
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 3106 "desktop-file-service.c"
		goto _state_0;
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 3110 "desktop-file-service.c"
		goto _state_1;
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 2:
#line 3114 "desktop-file-service.c"
		goto _state_2;
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 3:
#line 3118 "desktop-file-service.c"
		goto _state_3;
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 4:
#line 3122 "desktop-file-service.c"
		goto _state_4;
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 5:
#line 3126 "desktop-file-service.c"
		goto _state_5;
		default:
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 3131 "desktop-file-service.c"
	}
	_state_0:
	{
#line 364 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp0_ = NULL;
#line 364 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp0_ = _data_->directory;
#line 364 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp1_ = NULL;
#line 364 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp1_ = g_file_get_path (_data_->_tmp0_);
#line 364 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->path = _data_->_tmp1_;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp3_ = NULL;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp3_ = _data_->path;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_tmp3_ != NULL) {
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp4_ = NULL;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp4_ = _data_->path;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp5_ = FALSE;
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp5_ = g_str_has_suffix (_data_->_tmp4_, "menu-xdg");
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp2_ = _data_->_tmp5_;
#line 3161 "desktop-file-service.c"
		} else {
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp2_ = FALSE;
#line 3165 "desktop-file-service.c"
		}
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_tmp2_) {
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->path);
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_state_ == 0) {
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3175 "desktop-file-service.c"
			} else {
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 3179 "desktop-file-service.c"
			}
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_object_unref (_data_->_async_result);
#line 366 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			return FALSE;
#line 3185 "desktop-file-service.c"
		}
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp7_ = NULL;
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp7_ = _data_->path;
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_tmp7_ != NULL) {
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8_ = NULL;
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8_ = _data_->path;
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = FALSE;
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = g_str_has_suffix (_data_->_tmp8_, "/screensavers");
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp6_ = _data_->_tmp9_;
#line 3203 "desktop-file-service.c"
		} else {
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp6_ = FALSE;
#line 3207 "desktop-file-service.c"
		}
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_tmp6_) {
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->path);
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_state_ == 0) {
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3217 "desktop-file-service.c"
			} else {
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 3221 "desktop-file-service.c"
			}
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_object_unref (_data_->_async_result);
#line 368 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			return FALSE;
#line 3227 "desktop-file-service.c"
		}
#line 370 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp10_ = NULL;
#line 370 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp10_ = _data_->path;
#line 370 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_debug ("desktop-file-service.vala:370: Searching for desktop files in: %s", _data_->_tmp10_);
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp11_ = NULL;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp11_ = _data_->directory;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_state_ = 1;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		synapse_utils_query_exists_async (_data_->_tmp11_, synapse_desktop_file_service_process_directory_ready, _data_);
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 3245 "desktop-file-service.c"
		_state_1:
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp12_ = FALSE;
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp12_ = synapse_utils_query_exists_finish (_data_->_res_);
#line 371 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->exists = _data_->_tmp12_;
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp13_ = FALSE;
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp13_ = _data_->exists;
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (!_data_->_tmp13_) {
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->path);
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_state_ == 0) {
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3265 "desktop-file-service.c"
			} else {
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_simple_async_result_complete (_data_->_async_result);
#line 3269 "desktop-file-service.c"
			}
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_object_unref (_data_->_async_result);
#line 372 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			return FALSE;
#line 3275 "desktop-file-service.c"
		}
		{
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = NULL;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = _data_->monitored_dirs;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = NULL;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = gee_iterable_iterator ((GeeIterable*) _data_->_tmp14_);
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_scanned_dir_it = _data_->_tmp15_;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			while (TRUE) {
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp16_ = NULL;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp16_ = _data_->_scanned_dir_it;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp17_ = FALSE;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp17_ = gee_iterator_next (_data_->_tmp16_);
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (!_data_->_tmp17_) {
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					break;
#line 3302 "desktop-file-service.c"
				}
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp18_ = NULL;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp18_ = _data_->_scanned_dir_it;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp19_ = NULL;
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp19_ = gee_iterator_get (_data_->_tmp18_);
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->scanned_dir = (GFile*) _data_->_tmp19_;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp20_ = NULL;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp20_ = _data_->path;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp21_ = NULL;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp21_ = _data_->scanned_dir;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp22_ = NULL;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp22_ = g_file_get_path (_data_->_tmp21_);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp23_ = NULL;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp23_ = _data_->_tmp22_;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp24_ = FALSE;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp24_ = g_strcmp0 (_data_->_tmp20_, _data_->_tmp23_) == 0;
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->_tmp23_);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (_data_->_tmp24_) {
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (_data_->scanned_dir);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (_data_->_scanned_dir_it);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_free0 (_data_->path);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					if (_data_->_state_ == 0) {
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3348 "desktop-file-service.c"
					} else {
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						g_simple_async_result_complete (_data_->_async_result);
#line 3352 "desktop-file-service.c"
					}
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					g_object_unref (_data_->_async_result);
#line 376 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					return FALSE;
#line 3358 "desktop-file-service.c"
				}
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->scanned_dir);
#line 3362 "desktop-file-service.c"
			}
#line 374 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_data_->_scanned_dir_it);
#line 3366 "desktop-file-service.c"
		}
#line 378 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp25_ = NULL;
#line 378 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp25_ = _data_->monitored_dirs;
#line 378 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp26_ = NULL;
#line 378 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp26_ = _data_->directory;
#line 378 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		gee_collection_add ((GeeCollection*) _data_->_tmp25_, _data_->_tmp26_);
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp27_ = NULL;
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp27_ = _data_->directory;
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_state_ = 2;
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_file_enumerate_children_async (_data_->_tmp27_, G_FILE_ATTRIBUTE_STANDARD_NAME "," G_FILE_ATTRIBUTE_STANDARD_TYPE, 0, 0, NULL, synapse_desktop_file_service_process_directory_ready, _data_);
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 3388 "desktop-file-service.c"
		_state_2:
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp28_ = NULL;
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp28_ = g_file_enumerate_children_finish (_data_->_tmp27_, _data_->_res_, &_data_->_inner_error_);
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->enumerator = _data_->_tmp28_;
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 379 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->path);
#line 3400 "desktop-file-service.c"
			goto __catch11_g_error;
		}
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp29_ = NULL;
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp29_ = _data_->enumerator;
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_state_ = 3;
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_file_enumerator_next_files_async (_data_->_tmp29_, 1024, 0, NULL, synapse_desktop_file_service_process_directory_ready, _data_);
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 3413 "desktop-file-service.c"
		_state_3:
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp30_ = NULL;
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp30_ = g_file_enumerator_next_files_finish (_data_->_tmp29_, _data_->_res_, &_data_->_inner_error_);
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->files = _data_->_tmp30_;
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_data_->enumerator);
#line 382 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->path);
#line 3427 "desktop-file-service.c"
			goto __catch11_g_error;
		}
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp31_ = NULL;
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp31_ = _data_->files;
#line 3434 "desktop-file-service.c"
		{
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->f_collection = _data_->_tmp31_;
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			for (_data_->f_it = _data_->f_collection; _data_->f_it != NULL; _data_->f_it = _data_->f_it->next) {
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp32_ = NULL;
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp32_ = _g_object_ref0 ((GFileInfo*) _data_->f_it->data);
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->f = _data_->_tmp32_;
#line 3446 "desktop-file-service.c"
				{
#line 385 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp33_ = NULL;
#line 385 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp33_ = _data_->f;
#line 385 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp34_ = NULL;
#line 385 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp34_ = g_file_info_get_name (_data_->_tmp33_);
#line 385 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->name = _data_->_tmp34_;
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp35_ = NULL;
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp35_ = _data_->f;
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp36_ = 0;
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp36_ = g_file_info_get_file_type (_data_->_tmp35_);
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					if (_data_->_tmp36_ == G_FILE_TYPE_DIRECTORY) {
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp37_ = NULL;
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp37_ = _data_->directory;
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp38_ = NULL;
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp38_ = _data_->name;
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp39_ = NULL;
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp39_ = g_file_get_child (_data_->_tmp37_, _data_->_tmp38_);
#line 389 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->subdir = _data_->_tmp39_;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp40_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp40_ = _data_->id_prefix;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp41_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp41_ = _data_->subdir;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp42_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp42_ = g_file_get_basename (_data_->_tmp41_);
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp43_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp43_ = _data_->_tmp42_;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp44_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp44_ = g_strdup_printf ("%s%s-", _data_->_tmp40_, _data_->_tmp43_);
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp45_ = NULL;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp45_ = _data_->_tmp44_;
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_g_free0 (_data_->_tmp43_);
#line 390 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->new_prefix = _data_->_tmp45_;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp46_ = NULL;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp46_ = _data_->subdir;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp47_ = NULL;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp47_ = _data_->new_prefix;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp48_ = NULL;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp48_ = _data_->monitored_dirs;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_state_ = 4;
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						synapse_desktop_file_service_process_directory (_data_->self, _data_->_tmp46_, _data_->_tmp47_, _data_->_tmp48_, synapse_desktop_file_service_process_directory_ready, _data_);
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						return FALSE;
#line 3528 "desktop-file-service.c"
						_state_4:
#line 391 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						synapse_desktop_file_service_process_directory_finish (_data_->self, _data_->_res_);
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_g_free0 (_data_->new_prefix);
#line 386 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_g_object_unref0 (_data_->subdir);
#line 3536 "desktop-file-service.c"
					} else {
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp49_ = NULL;
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp49_ = _data_->name;
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp50_ = FALSE;
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp50_ = g_str_has_suffix (_data_->_tmp49_, "synapse.desktop");
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						if (_data_->_tmp50_) {
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_g_object_unref0 (_data_->f);
#line 396 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							continue;
#line 3552 "desktop-file-service.c"
						}
#line 397 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp51_ = NULL;
#line 397 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp51_ = _data_->name;
#line 397 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp52_ = FALSE;
#line 397 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_data_->_tmp52_ = g_str_has_suffix (_data_->_tmp51_, ".desktop");
#line 397 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						if (_data_->_tmp52_) {
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp53_ = NULL;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp53_ = _data_->directory;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp54_ = NULL;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp54_ = _data_->name;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp55_ = NULL;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp55_ = g_file_get_child (_data_->_tmp53_, _data_->_tmp54_);
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp56_ = NULL;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp56_ = _data_->_tmp55_;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp57_ = NULL;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_tmp57_ = _data_->id_prefix;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_data_->_state_ = 5;
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							synapse_desktop_file_service_load_desktop_file (_data_->self, _data_->_tmp56_, _data_->_tmp57_, synapse_desktop_file_service_process_directory_ready, _data_);
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							return FALSE;
#line 3590 "desktop-file-service.c"
							_state_5:
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							synapse_desktop_file_service_load_desktop_file_finish (_data_->self, _data_->_res_);
#line 399 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_g_object_unref0 (_data_->_tmp56_);
#line 3596 "desktop-file-service.c"
						}
					}
#line 383 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (_data_->f);
#line 3601 "desktop-file-service.c"
				}
			}
		}
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		__g_list_free__g_object_unref0_0 (_data_->files);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->enumerator);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (_data_->path);
#line 3611 "desktop-file-service.c"
	}
	goto __finally11;
	__catch11_g_error:
	{
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->err = _data_->_inner_error_;
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_inner_error_ = NULL;
#line 406 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp58_ = NULL;
#line 406 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp58_ = _data_->err;
#line 406 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp59_ = NULL;
#line 406 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp59_ = _data_->_tmp58_->message;
#line 406 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_warning ("desktop-file-service.vala:406: %s", _data_->_tmp59_);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_error_free0 (_data_->err);
#line 3632 "desktop-file-service.c"
	}
	__finally11:
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_clear_error (&_data_->_inner_error_);
#line 362 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 3643 "desktop-file-service.c"
	}
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 3649 "desktop-file-service.c"
	} else {
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 3653 "desktop-file-service.c"
	}
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 358 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 3659 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_all_desktop_files_data_free (gpointer _data) {
	SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceLoadAllDesktopFilesData, _data_);
#line 3670 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_all_desktop_files (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceLoadAllDesktopFilesData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_load_all_desktop_files);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_load_all_desktop_files_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files_co (_data_);
#line 3689 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_all_desktop_files_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 3697 "desktop-file-service.c"
}


static gchar** _vala_array_dup2 (gchar** self, int length) {
	gchar** result;
	int i;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = g_new0 (gchar*, length + 1);
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	for (i = 0; i < length; i++) {
#line 3708 "desktop-file-service.c"
		gchar* _tmp0_ = NULL;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp0_ = g_strdup (self[i]);
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		result[i] = _tmp0_;
#line 3714 "desktop-file-service.c"
	}
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 3718 "desktop-file-service.c"
}


static void _vala_array_add5 (gchar*** array, int* length, int* size, gchar* value) {
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if ((*length) == (*size)) {
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 3729 "desktop-file-service.c"
	}
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	(*array)[(*length)++] = value;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	(*array)[*length] = NULL;
#line 3735 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_all_desktop_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files_co (_data_);
#line 3749 "desktop-file-service.c"
}


static void _synapse_desktop_file_service_desktop_file_directory_changed_g_file_monitor_changed (GFileMonitor* _sender, GFile* file, GFile* other_file, GFileMonitorEvent event_type, gpointer self) {
#line 436 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_desktop_file_directory_changed ((SynapseDesktopFileService*) self);
#line 3756 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_load_all_desktop_files_co (SynapseDesktopFileServiceLoadAllDesktopFilesData* _data_) {
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 3765 "desktop-file-service.c"
		goto _state_0;
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 3769 "desktop-file-service.c"
		goto _state_1;
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 2:
#line 3773 "desktop-file-service.c"
		goto _state_2;
		default:
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 3778 "desktop-file-service.c"
	}
	_state_0:
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = NULL;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = NULL;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = _data_->_tmp0_ = g_get_system_data_dirs ();
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = NULL;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2__length1 = 0;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = (_data_->_tmp1_ != NULL) ? _vala_array_dup2 (_data_->_tmp1_, _vala_array_length (_data_->_tmp0_)) : ((gpointer) _data_->_tmp1_);
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2__length1 = _vala_array_length (_data_->_tmp0_);
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->data_dirs_length1 = 0;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_data_dirs_size_ = 0;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->data_dirs = _data_->_tmp2_;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->data_dirs_length1 = _data_->_tmp2__length1;
#line 412 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_data_dirs_size_ = _data_->data_dirs_length1;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = NULL;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3__length1 = 0;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = _data_->data_dirs;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3__length1 = _data_->data_dirs_length1;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = NULL;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = g_get_user_data_dir ();
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp5_ = NULL;
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp5_ = g_strdup (_data_->_tmp4_);
#line 413 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_vala_array_add5 (&_data_->data_dirs, &_data_->data_dirs_length1, &_data_->_data_dirs_size_, _data_->_tmp5_);
#line 415 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp6_ = NULL;
#line 415 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp6_ = gee_hash_set_new (G_TYPE_FILE, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 415 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->desktop_file_dirs = (GeeSet*) _data_->_tmp6_;
#line 417 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp7_ = NULL;
#line 417 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp7_ = _data_->self->priv->mimetype_parent_map;
#line 417 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	gee_multi_map_clear (_data_->_tmp7_);
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp8_ = NULL;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp8__length1 = 0;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp8_ = _data_->data_dirs;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp8__length1 = _data_->data_dirs_length1;
#line 3843 "desktop-file-service.c"
	{
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->data_dir_collection_length1 = 0;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_data_dir_collection_size_ = 0;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->data_dir_collection = _data_->_tmp8_;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->data_dir_collection_length1 = _data_->_tmp8__length1;
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		for (_data_->data_dir_it = 0; _data_->data_dir_it < _data_->_tmp8__length1; _data_->data_dir_it = _data_->data_dir_it + 1) {
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->data_dir = _data_->data_dir_collection[_data_->data_dir_it];
#line 3857 "desktop-file-service.c"
			{
#line 421 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp9_ = NULL;
#line 421 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp9_ = _data_->data_dir;
#line 421 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp10_ = NULL;
#line 421 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp10_ = g_build_filename (_data_->_tmp9_, "applications", NULL, NULL);
#line 421 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->dir_path = _data_->_tmp10_;
#line 422 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp11_ = NULL;
#line 422 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp11_ = _data_->dir_path;
#line 422 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp12_ = NULL;
#line 422 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp12_ = g_file_new_for_path (_data_->_tmp11_);
#line 422 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->directory = _data_->_tmp12_;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp13_ = NULL;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp13_ = _data_->directory;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp14_ = NULL;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp14_ = _data_->desktop_file_dirs;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_state_ = 1;
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				synapse_desktop_file_service_process_directory (_data_->self, _data_->_tmp13_, "", _data_->_tmp14_, synapse_desktop_file_service_load_all_desktop_files_ready, _data_);
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				return FALSE;
#line 3893 "desktop-file-service.c"
				_state_1:
#line 423 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				synapse_desktop_file_service_process_directory_finish (_data_->self, _data_->_res_);
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp15_ = NULL;
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp15_ = _data_->data_dir;
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp16_ = NULL;
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp16_ = g_build_filename (_data_->_tmp15_, "mime", "subclasses", NULL);
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->dir_path);
#line 424 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->dir_path = _data_->_tmp16_;
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp17_ = NULL;
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp17_ = _data_->dir_path;
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_state_ = 2;
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				synapse_desktop_file_service_load_mime_parents_from_file (_data_->self, _data_->_tmp17_, synapse_desktop_file_service_load_all_desktop_files_ready, _data_);
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				return FALSE;
#line 3919 "desktop-file-service.c"
				_state_2:
#line 425 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				synapse_desktop_file_service_load_mime_parents_from_file_finish (_data_->self, _data_->_res_);
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->directory);
#line 419 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->dir_path);
#line 3927 "desktop-file-service.c"
			}
		}
	}
#line 428 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_create_indices (_data_->self);
#line 430 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp18_ = NULL;
#line 430 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp18_ = gee_array_list_new (g_file_monitor_get_type (), (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 430 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self->priv->directory_monitors);
#line 430 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self->priv->directory_monitors = (GeeList*) _data_->_tmp18_;
#line 3941 "desktop-file-service.c"
	{
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp19_ = NULL;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp19_ = _data_->desktop_file_dirs;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp20_ = NULL;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp20_ = gee_iterable_iterator ((GeeIterable*) _data_->_tmp19_);
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_d_it = _data_->_tmp20_;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		while (TRUE) {
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = NULL;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = _data_->_d_it;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = FALSE;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = gee_iterator_next (_data_->_tmp21_);
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (!_data_->_tmp22_) {
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				break;
#line 3967 "desktop-file-service.c"
			}
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = NULL;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = _data_->_d_it;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = NULL;
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = gee_iterator_get (_data_->_tmp23_);
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->d = (GFile*) _data_->_tmp24_;
#line 3979 "desktop-file-service.c"
			{
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp25_ = NULL;
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp25_ = _data_->d;
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp26_ = NULL;
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp26_ = g_file_monitor_directory (_data_->_tmp25_, 0, NULL, &_data_->_inner_error_);
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->monitor = _data_->_tmp26_;
#line 435 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 3993 "desktop-file-service.c"
					goto __catch12_g_error;
				}
#line 436 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp27_ = NULL;
#line 436 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp27_ = _data_->monitor;
#line 436 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_signal_connect_object (_data_->_tmp27_, "changed", (GCallback) _synapse_desktop_file_service_desktop_file_directory_changed_g_file_monitor_changed, _data_->self, 0);
#line 437 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp28_ = NULL;
#line 437 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp28_ = _data_->self->priv->directory_monitors;
#line 437 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp29_ = NULL;
#line 437 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp29_ = _data_->monitor;
#line 437 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				gee_collection_add ((GeeCollection*) _data_->_tmp28_, _data_->_tmp29_);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->monitor);
#line 4014 "desktop-file-service.c"
			}
			goto __finally12;
			__catch12_g_error:
			{
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->err = _data_->_inner_error_;
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_inner_error_ = NULL;
#line 441 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp30_ = NULL;
#line 441 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp30_ = _data_->err;
#line 441 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp31_ = NULL;
#line 441 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp31_ = _data_->_tmp30_->message;
#line 441 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_warning ("desktop-file-service.vala:441: Unable to monitor directory: %s", _data_->_tmp31_);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_error_free0 (_data_->err);
#line 4035 "desktop-file-service.c"
			}
			__finally12:
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->d);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->_d_it);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->desktop_file_dirs);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->data_dirs = (_vala_array_free (_data_->data_dirs, _data_->data_dirs_length1, (GDestroyNotify) g_free), NULL);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_clear_error (&_data_->_inner_error_);
#line 433 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				return FALSE;
#line 4054 "desktop-file-service.c"
			}
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_data_->d);
#line 4058 "desktop-file-service.c"
		}
#line 431 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->_d_it);
#line 4062 "desktop-file-service.c"
	}
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->desktop_file_dirs);
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->data_dirs = (_vala_array_free (_data_->data_dirs, _data_->data_dirs_length1, (GDestroyNotify) g_free), NULL);
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 4072 "desktop-file-service.c"
	} else {
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 4076 "desktop-file-service.c"
	}
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 410 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 4082 "desktop-file-service.c"
}


static gboolean __lambda9_ (SynapseDesktopFileService* self) {
	gboolean result = FALSE;
#line 460 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->timer_id = (guint) 0;
#line 461 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_reload_desktop_files (self, NULL, NULL);
#line 462 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = FALSE;
#line 462 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 4096 "desktop-file-service.c"
}


static gboolean ___lambda9__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda9_ ((SynapseDesktopFileService*) self);
#line 459 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 4105 "desktop-file-service.c"
}


static void synapse_desktop_file_service_desktop_file_directory_changed (SynapseDesktopFileService* self) {
	guint _tmp0_ = 0U;
	guint _tmp2_ = 0U;
#line 451 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 453 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_signal_emit_by_name (self, "reload-started");
#line 454 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->timer_id;
#line 454 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp0_ != ((guint) 0)) {
#line 4120 "desktop-file-service.c"
		guint _tmp1_ = 0U;
#line 456 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp1_ = self->priv->timer_id;
#line 456 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_source_remove (_tmp1_);
#line 4126 "desktop-file-service.c"
	}
#line 459 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 5000, ___lambda9__gsource_func, g_object_ref (self), g_object_unref);
#line 459 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->timer_id = _tmp2_;
#line 4132 "desktop-file-service.c"
}


static void synapse_desktop_file_service_reload_desktop_files_data_free (gpointer _data) {
	SynapseDesktopFileServiceReloadDesktopFilesData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceReloadDesktopFilesData, _data_);
#line 4143 "desktop-file-service.c"
}


static void synapse_desktop_file_service_reload_desktop_files (SynapseDesktopFileService* self, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceReloadDesktopFilesData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceReloadDesktopFilesData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_reload_desktop_files);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_reload_desktop_files_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_reload_desktop_files_co (_data_);
#line 4162 "desktop-file-service.c"
}


static void synapse_desktop_file_service_reload_desktop_files_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceReloadDesktopFilesData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 4170 "desktop-file-service.c"
}


static void synapse_desktop_file_service_reload_desktop_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceReloadDesktopFilesData* _data_;
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_reload_desktop_files_co (_data_);
#line 4184 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_reload_desktop_files_co (SynapseDesktopFileServiceReloadDesktopFilesData* _data_) {
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 4193 "desktop-file-service.c"
		goto _state_0;
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 4197 "desktop-file-service.c"
		goto _state_1;
		default:
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 4202 "desktop-file-service.c"
	}
	_state_0:
#line 468 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_debug ("desktop-file-service.vala:468: Reloading desktop files...");
#line 469 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = NULL;
#line 469 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = _data_->self->priv->all_desktop_files;
#line 469 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	gee_collection_clear ((GeeCollection*) _data_->_tmp0_);
#line 470 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = NULL;
#line 470 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = _data_->self->priv->non_hidden_desktop_files;
#line 470 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	gee_collection_clear ((GeeCollection*) _data_->_tmp1_);
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_state_ = 1;
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files (_data_->self, synapse_desktop_file_service_reload_desktop_files_ready, _data_);
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 4225 "desktop-file-service.c"
	_state_1:
#line 471 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_all_desktop_files_finish (_data_->self, _data_->_res_);
#line 473 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_signal_emit_by_name (_data_->self, "reload-done");
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 4235 "desktop-file-service.c"
	} else {
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 4239 "desktop-file-service.c"
	}
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 466 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 4245 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_desktop_file_data_free (gpointer _data) {
	SynapseDesktopFileServiceLoadDesktopFileData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->file);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->id_prefix);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceLoadDesktopFileData, _data_);
#line 4260 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_desktop_file (SynapseDesktopFileService* self, GFile* file, const gchar* id_prefix, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadDesktopFileData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
	GFile* _tmp1_ = NULL;
	GFile* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceLoadDesktopFileData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_load_desktop_file);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_load_desktop_file_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = file;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->file);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->file = _tmp2_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = id_prefix;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = g_strdup (_tmp3_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->id_prefix);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->id_prefix = _tmp4_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_desktop_file_co (_data_);
#line 4299 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_desktop_file_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceLoadDesktopFileData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 4307 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_desktop_file_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadDesktopFileData* _data_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_desktop_file_co (_data_);
#line 4321 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_load_desktop_file_co (SynapseDesktopFileServiceLoadDesktopFileData* _data_) {
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 4330 "desktop-file-service.c"
		goto _state_0;
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 4334 "desktop-file-service.c"
		goto _state_1;
		default:
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 4339 "desktop-file-service.c"
	}
	_state_0:
	{
#line 480 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->file_contents_length1 = 0;
#line 480 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_file_contents_size_ = 0;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp0_ = NULL;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp0_ = _data_->file;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp1_ = NULL;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		memset (&_data_->_tmp2_, 0, sizeof (gsize));
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_state_ = 1;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_file_load_contents_async (_data_->_tmp0_, NULL, synapse_desktop_file_service_load_desktop_file_ready, _data_);
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 4361 "desktop-file-service.c"
		_state_1:
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp3_ = FALSE;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp3_ = g_file_load_contents_finish (_data_->_tmp0_, _data_->_res_, &_data_->_tmp1_, &_data_->_tmp2_, NULL, &_data_->_inner_error_);
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->file_contents = (g_free (_data_->file_contents), NULL);
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->file_contents = _data_->_tmp1_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->file_contents_length1 = _data_->_tmp2_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_file_contents_size_ = _data_->file_contents_length1;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->success = _data_->_tmp3_;
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 481 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->file_contents = (g_free (_data_->file_contents), NULL);
#line 4381 "desktop-file-service.c"
			goto __catch13_g_error;
		}
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp4_ = FALSE;
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp4_ = _data_->success;
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_tmp4_) {
#line 485 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp5_ = NULL;
#line 485 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp5_ = g_key_file_new ();
#line 485 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->keyfile = _data_->_tmp5_;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp6_ = NULL;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp6_ = _data_->keyfile;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp7_ = NULL;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp7__length1 = 0;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp7_ = _data_->file_contents;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp7__length1 = _data_->file_contents_length1;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8_ = NULL;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8__length1 = 0;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8_ = _data_->file_contents;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp8__length1 = _data_->file_contents_length1;
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_key_file_load_from_data (_data_->_tmp6_, (const gchar*) _data_->_tmp7_, (gsize) _data_->_tmp8__length1, 0, &_data_->_inner_error_);
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_key_file_free0 (_data_->keyfile);
#line 486 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->file_contents = (g_free (_data_->file_contents), NULL);
#line 4424 "desktop-file-service.c"
				goto __catch13_g_error;
			}
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = _data_->id_prefix;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp10_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp10_ = _data_->file;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp11_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp11_ = g_file_get_basename (_data_->_tmp10_);
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp12_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp12_ = _data_->_tmp11_;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp13_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp13_ = g_strdup_printf ("%s%s", _data_->_tmp9_, _data_->_tmp12_);
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = NULL;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = _data_->_tmp13_;
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->_tmp12_);
#line 489 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->desktop_id = _data_->_tmp14_;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = _data_->file;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp16_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp16_ = g_file_get_path (_data_->_tmp15_);
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp17_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp17_ = _data_->_tmp16_;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp18_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp18_ = _data_->keyfile;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19_ = _data_->desktop_id;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp20_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp20_ = synapse_desktop_file_info_new_for_keyfile (_data_->_tmp17_, _data_->_tmp18_, _data_->_tmp19_);
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = NULL;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = _data_->_tmp20_;
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->_tmp17_);
#line 490 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->dfi = _data_->_tmp21_;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = NULL;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = _data_->dfi;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = FALSE;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = synapse_desktop_file_info_get_is_valid (_data_->_tmp22_);
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = FALSE;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = _data_->_tmp23_;
#line 493 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_tmp24_) {
#line 495 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp25_ = NULL;
#line 495 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp25_ = _data_->self->priv->all_desktop_files;
#line 495 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp26_ = NULL;
#line 495 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp26_ = _data_->dfi;
#line 495 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				gee_collection_add ((GeeCollection*) _data_->_tmp25_, _data_->_tmp26_);
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp28_ = NULL;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp28_ = _data_->dfi;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp29_ = FALSE;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp29_ = synapse_desktop_file_info_get_is_hidden (_data_->_tmp28_);
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp30_ = FALSE;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->_tmp30_ = _data_->_tmp29_;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (!_data_->_tmp30_) {
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp31_ = 0;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp31_ = _data_->self->priv->session_type;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp32_ = NULL;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp32_ = _data_->dfi;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp33_ = 0;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp33_ = synapse_desktop_file_info_get_show_in (_data_->_tmp32_);
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp34_ = 0;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp34_ = _data_->_tmp33_;
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp27_ = (_data_->_tmp34_ & _data_->_tmp31_) == _data_->_tmp31_;
#line 4543 "desktop-file-service.c"
				} else {
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp27_ = FALSE;
#line 4547 "desktop-file-service.c"
				}
#line 496 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (_data_->_tmp27_) {
#line 498 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp35_ = NULL;
#line 498 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp35_ = _data_->self->priv->non_hidden_desktop_files;
#line 498 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp36_ = NULL;
#line 498 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_data_->_tmp36_ = _data_->dfi;
#line 498 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					gee_collection_add ((GeeCollection*) _data_->_tmp35_, _data_->_tmp36_);
#line 4561 "desktop-file-service.c"
				}
			}
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (_data_->dfi);
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->desktop_id);
#line 483 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_key_file_free0 (_data_->keyfile);
#line 4570 "desktop-file-service.c"
		}
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->file_contents = (g_free (_data_->file_contents), NULL);
#line 4574 "desktop-file-service.c"
	}
	goto __finally13;
	__catch13_g_error:
	{
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->err = _data_->_inner_error_;
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_inner_error_ = NULL;
#line 505 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp37_ = NULL;
#line 505 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp37_ = _data_->err;
#line 505 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp38_ = NULL;
#line 505 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp38_ = _data_->_tmp37_->message;
#line 505 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_warning ("desktop-file-service.vala:505: %s", _data_->_tmp38_);
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_error_free0 (_data_->err);
#line 4595 "desktop-file-service.c"
	}
	__finally13:
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_clear_error (&_data_->_inner_error_);
#line 478 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 4606 "desktop-file-service.c"
	}
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 4612 "desktop-file-service.c"
	} else {
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 4616 "desktop-file-service.c"
	}
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 476 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 4622 "desktop-file-service.c"
}


static gchar* string_strip (const gchar* self) {
	gchar* result = NULL;
	gchar* _result_ = NULL;
	gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
#line 1115 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1116 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	_tmp0_ = g_strdup (self);
#line 1116 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	_result_ = _tmp0_;
#line 1117 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	_tmp1_ = _result_;
#line 1117 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	g_strstrip (_tmp1_);
#line 1118 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	result = _result_;
#line 1118 "/usr/share/vala-0.30/vapi/glib-2.0.vapi"
	return result;
#line 4645 "desktop-file-service.c"
}


static void synapse_desktop_file_service_create_indices (SynapseDesktopFileService* self) {
	GeeHashMap* _tmp0_ = NULL;
	GeeHashMap* _tmp1_ = NULL;
	GeeHashMap* _tmp2_ = NULL;
	GRegex* exec_re = NULL;
	GError * _inner_error_ = NULL;
#line 509 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 512 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, NULL, NULL, GEE_TYPE_LIST, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 512 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->mimetype_map);
#line 512 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->mimetype_map = (GeeMap*) _tmp0_;
#line 515 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, GEE_TYPE_LIST, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 515 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->exec_map);
#line 515 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->exec_map = (GeeMap*) _tmp1_;
#line 518 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 518 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->desktop_id_map);
#line 518 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->desktop_id_map = (GeeMap*) _tmp2_;
#line 4675 "desktop-file-service.c"
	{
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		GRegex* _tmp5_ = NULL;
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp4_ = g_regex_new ("%[fFuU]", 0, 0, &_inner_error_);
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp3_ = _tmp4_;
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 4686 "desktop-file-service.c"
			goto __catch14_g_error;
		}
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp5_ = _tmp3_;
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp3_ = NULL;
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_regex_unref0 (exec_re);
#line 524 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		exec_re = _tmp5_;
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_regex_unref0 (_tmp3_);
#line 4699 "desktop-file-service.c"
	}
	goto __finally14;
	__catch14_g_error:
	{
		GError* err = NULL;
		GError* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		err = _inner_error_;
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_inner_error_ = NULL;
#line 528 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp6_ = err;
#line 528 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp7_ = _tmp6_->message;
#line 528 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("desktop-file-service.vala:528: %s", _tmp7_);
#line 529 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_error_free0 (err);
#line 529 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_regex_unref0 (exec_re);
#line 529 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return;
#line 4723 "desktop-file-service.c"
	}
	__finally14:
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_regex_unref0 (exec_re);
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_clear_error (&_inner_error_);
#line 522 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return;
#line 4736 "desktop-file-service.c"
	}
	{
		GeeList* _dfi_list = NULL;
		GeeList* _tmp8_ = NULL;
		GeeList* _tmp9_ = NULL;
		gint _dfi_size = 0;
		GeeList* _tmp10_ = NULL;
		gint _tmp11_ = 0;
		gint _tmp12_ = 0;
		gint _dfi_index = 0;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp8_ = self->priv->all_desktop_files;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp9_ = _g_object_ref0 (_tmp8_);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_dfi_list = _tmp9_;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp10_ = _dfi_list;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp11_ = gee_collection_get_size ((GeeCollection*) _tmp10_);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp12_ = _tmp11_;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_dfi_size = _tmp12_;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_dfi_index = -1;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		while (TRUE) {
#line 4765 "desktop-file-service.c"
			gint _tmp13_ = 0;
			gint _tmp14_ = 0;
			gint _tmp15_ = 0;
			SynapseDesktopFileInfo* dfi = NULL;
			GeeList* _tmp16_ = NULL;
			gint _tmp17_ = 0;
			gpointer _tmp18_ = NULL;
			gchar* exec = NULL;
			gchar* _tmp19_ = NULL;
			const gchar* _tmp29_ = NULL;
			gchar* _tmp30_ = NULL;
			GeeList* exec_list = NULL;
			GeeMap* _tmp31_ = NULL;
			const gchar* _tmp32_ = NULL;
			gpointer _tmp33_ = NULL;
			GeeList* _tmp34_ = NULL;
			GeeList* _tmp39_ = NULL;
			SynapseDesktopFileInfo* _tmp40_ = NULL;
			gchar* _tmp41_ = NULL;
			SynapseDesktopFileInfo* _tmp42_ = NULL;
			const gchar* _tmp43_ = NULL;
			const gchar* _tmp44_ = NULL;
			gchar* _tmp45_ = NULL;
			gchar* desktop_id = NULL;
			gchar* _tmp50_ = NULL;
			GeeMap* _tmp51_ = NULL;
			const gchar* _tmp52_ = NULL;
			SynapseDesktopFileInfo* _tmp53_ = NULL;
			gboolean _tmp54_ = FALSE;
			SynapseDesktopFileInfo* _tmp55_ = NULL;
			gboolean _tmp56_ = FALSE;
			gboolean _tmp57_ = FALSE;
			SynapseDesktopFileInfo* _tmp60_ = NULL;
			gchar** _tmp61_ = NULL;
			gint _tmp61__length1 = 0;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp13_ = _dfi_index;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_dfi_index = _tmp13_ + 1;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp14_ = _dfi_index;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp15_ = _dfi_size;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (!(_tmp14_ < _tmp15_)) {
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				break;
#line 4813 "desktop-file-service.c"
			}
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp16_ = _dfi_list;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp17_ = _dfi_index;
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp18_ = gee_list_get (_tmp16_, _tmp17_);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			dfi = (SynapseDesktopFileInfo*) _tmp18_;
#line 534 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp19_ = g_strdup ("");
#line 534 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			exec = _tmp19_;
#line 4827 "desktop-file-service.c"
			{
				gchar* _tmp20_ = NULL;
				GRegex* _tmp21_ = NULL;
				SynapseDesktopFileInfo* _tmp22_ = NULL;
				const gchar* _tmp23_ = NULL;
				const gchar* _tmp24_ = NULL;
				gchar* _tmp25_ = NULL;
				gchar* _tmp26_ = NULL;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp21_ = exec_re;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp22_ = dfi;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp23_ = synapse_desktop_file_info_get_exec (_tmp22_);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp24_ = _tmp23_;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp25_ = g_regex_replace_literal (_tmp21_, _tmp24_, (gssize) -1, 0, "", 0, &_inner_error_);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp20_ = _tmp25_;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					if (_inner_error_->domain == G_REGEX_ERROR) {
#line 4852 "desktop-file-service.c"
						goto __catch15_g_regex_error;
					}
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_free0 (exec);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (dfi);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_object_unref0 (_dfi_list);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					_g_regex_unref0 (exec_re);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					g_clear_error (&_inner_error_);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					return;
#line 4869 "desktop-file-service.c"
				}
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp26_ = _tmp20_;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp20_ = NULL;
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (exec);
#line 537 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				exec = _tmp26_;
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp20_);
#line 4881 "desktop-file-service.c"
			}
			goto __finally15;
			__catch15_g_regex_error:
			{
				GError* err = NULL;
				GError* _tmp27_ = NULL;
				const gchar* _tmp28_ = NULL;
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				err = _inner_error_;
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_inner_error_ = NULL;
#line 541 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp27_ = err;
#line 541 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp28_ = _tmp27_->message;
#line 541 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_critical ("desktop-file-service.vala:541: %s", _tmp28_);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_error_free0 (err);
#line 4901 "desktop-file-service.c"
			}
			__finally15:
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (exec);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (dfi);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_dfi_list);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_regex_unref0 (exec_re);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				g_clear_error (&_inner_error_);
#line 535 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				return;
#line 4920 "desktop-file-service.c"
			}
#line 543 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp29_ = exec;
#line 543 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp30_ = string_strip (_tmp29_);
#line 543 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (exec);
#line 543 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			exec = _tmp30_;
#line 545 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp31_ = self->priv->exec_map;
#line 545 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp32_ = exec;
#line 545 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp33_ = gee_map_get (_tmp31_, _tmp32_);
#line 545 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			exec_list = (GeeList*) _tmp33_;
#line 546 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp34_ = exec_list;
#line 546 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp34_ == NULL) {
#line 4942 "desktop-file-service.c"
				GeeArrayList* _tmp35_ = NULL;
				GeeMap* _tmp36_ = NULL;
				const gchar* _tmp37_ = NULL;
				GeeList* _tmp38_ = NULL;
#line 548 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp35_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 548 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (exec_list);
#line 548 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				exec_list = (GeeList*) _tmp35_;
#line 549 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp36_ = self->priv->exec_map;
#line 549 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp37_ = exec;
#line 549 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp38_ = exec_list;
#line 549 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				gee_map_set (_tmp36_, _tmp37_, _tmp38_);
#line 4961 "desktop-file-service.c"
			}
#line 551 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp39_ = exec_list;
#line 551 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp40_ = dfi;
#line 551 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			gee_collection_add ((GeeCollection*) _tmp39_, _tmp40_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp42_ = dfi;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp43_ = synapse_desktop_file_info_get_desktop_id (_tmp42_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp44_ = _tmp43_;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp45_ = g_strdup (_tmp44_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp41_ = _tmp45_;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp41_ == NULL) {
#line 4981 "desktop-file-service.c"
				SynapseDesktopFileInfo* _tmp46_ = NULL;
				const gchar* _tmp47_ = NULL;
				const gchar* _tmp48_ = NULL;
				gchar* _tmp49_ = NULL;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp46_ = dfi;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp47_ = synapse_desktop_file_info_get_filename (_tmp46_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp48_ = _tmp47_;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp49_ = g_path_get_basename (_tmp48_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp41_);
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp41_ = _tmp49_;
#line 4998 "desktop-file-service.c"
			}
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp50_ = _tmp41_;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp41_ = NULL;
#line 554 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			desktop_id = _tmp50_;
#line 555 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp51_ = self->priv->desktop_id_map;
#line 555 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp52_ = desktop_id;
#line 555 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp53_ = dfi;
#line 555 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			gee_map_set (_tmp51_, _tmp52_, _tmp53_);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp55_ = dfi;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp56_ = synapse_desktop_file_info_get_is_hidden (_tmp55_);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp57_ = _tmp56_;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp57_) {
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp54_ = TRUE;
#line 5024 "desktop-file-service.c"
			} else {
				SynapseDesktopFileInfo* _tmp58_ = NULL;
				gchar** _tmp59_ = NULL;
				gint _tmp59__length1 = 0;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp58_ = dfi;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp59_ = _tmp58_->mime_types;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp59__length1 = _tmp58_->mime_types_length1;
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_tmp54_ = _tmp59_ == NULL;
#line 5037 "desktop-file-service.c"
			}
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_tmp54_) {
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (desktop_id);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_tmp41_);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (exec_list);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (exec);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (dfi);
#line 558 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				continue;
#line 5053 "desktop-file-service.c"
			}
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp60_ = dfi;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp61_ = _tmp60_->mime_types;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp61__length1 = _tmp60_->mime_types_length1;
#line 5061 "desktop-file-service.c"
			{
				gchar** mime_type_collection = NULL;
				gint mime_type_collection_length1 = 0;
				gint _mime_type_collection_size_ = 0;
				gint mime_type_it = 0;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				mime_type_collection = _tmp61_;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				mime_type_collection_length1 = _tmp61__length1;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				for (mime_type_it = 0; mime_type_it < _tmp61__length1; mime_type_it = mime_type_it + 1) {
#line 5073 "desktop-file-service.c"
					const gchar* mime_type = NULL;
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
					mime_type = mime_type_collection[mime_type_it];
#line 5077 "desktop-file-service.c"
					{
						GeeList* list = NULL;
						GeeMap* _tmp62_ = NULL;
						const gchar* _tmp63_ = NULL;
						gpointer _tmp64_ = NULL;
						GeeList* _tmp65_ = NULL;
						GeeList* _tmp70_ = NULL;
						SynapseDesktopFileInfo* _tmp71_ = NULL;
#line 562 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp62_ = self->priv->mimetype_map;
#line 562 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp63_ = mime_type;
#line 562 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp64_ = gee_map_get (_tmp62_, _tmp63_);
#line 562 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						list = (GeeList*) _tmp64_;
#line 563 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp65_ = list;
#line 563 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						if (_tmp65_ == NULL) {
#line 5098 "desktop-file-service.c"
							GeeArrayList* _tmp66_ = NULL;
							GeeMap* _tmp67_ = NULL;
							const gchar* _tmp68_ = NULL;
							GeeList* _tmp69_ = NULL;
#line 565 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp66_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 565 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_g_object_unref0 (list);
#line 565 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							list = (GeeList*) _tmp66_;
#line 566 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp67_ = self->priv->mimetype_map;
#line 566 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp68_ = mime_type;
#line 566 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							_tmp69_ = list;
#line 566 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
							gee_map_set (_tmp67_, _tmp68_, _tmp69_);
#line 5117 "desktop-file-service.c"
						}
#line 568 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp70_ = list;
#line 568 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_tmp71_ = dfi;
#line 568 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						gee_collection_add ((GeeCollection*) _tmp70_, _tmp71_);
#line 560 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
						_g_object_unref0 (list);
#line 5127 "desktop-file-service.c"
					}
				}
			}
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (desktop_id);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_tmp41_);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (exec_list);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (exec);
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_object_unref0 (dfi);
#line 5141 "desktop-file-service.c"
		}
#line 532 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_dfi_list);
#line 5145 "desktop-file-service.c"
	}
#line 509 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_regex_unref0 (exec_re);
#line 5149 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_mime_parents_from_file_data_free (gpointer _data) {
	SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_;
	_data_ = _data;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->fi);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_slice_free (SynapseDesktopFileServiceLoadMimeParentsFromFileData, _data_);
#line 5162 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_mime_parents_from_file (SynapseDesktopFileService* self, const gchar* fi, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_;
	SynapseDesktopFileService* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_slice_new0 (SynapseDesktopFileServiceLoadMimeParentsFromFileData);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_async_result = g_simple_async_result_new (G_OBJECT (self), _callback_, _user_data_, synapse_desktop_file_service_load_mime_parents_from_file);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, synapse_desktop_file_service_load_mime_parents_from_file_data_free);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->self = _tmp0_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = fi;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = g_strdup (_tmp1_);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_free0 (_data_->fi);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->fi = _tmp2_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_mime_parents_from_file_co (_data_);
#line 5191 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_mime_parents_from_file_finish (SynapseDesktopFileService* self, GAsyncResult* _res_) {
	SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
#line 5199 "desktop-file-service.c"
}


static void synapse_desktop_file_service_load_mime_parents_from_file_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_ = _user_data_;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_source_object_ = source_object;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_res_ = _res_;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_load_mime_parents_from_file_co (_data_);
#line 5213 "desktop-file-service.c"
}


static gboolean synapse_desktop_file_service_load_mime_parents_from_file_co (SynapseDesktopFileServiceLoadMimeParentsFromFileData* _data_) {
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	switch (_data_->_state_) {
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 0:
#line 5222 "desktop-file-service.c"
		goto _state_0;
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 1:
#line 5226 "desktop-file-service.c"
		goto _state_1;
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 2:
#line 5230 "desktop-file-service.c"
		goto _state_2;
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		case 3:
#line 5234 "desktop-file-service.c"
		goto _state_3;
		default:
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_assert_not_reached ();
#line 5239 "desktop-file-service.c"
	}
	_state_0:
#line 575 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = NULL;
#line 575 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp0_ = _data_->fi;
#line 575 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = NULL;
#line 575 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp1_ = g_file_new_for_path (_data_->_tmp0_);
#line 575 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->file = _data_->_tmp1_;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = NULL;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp2_ = _data_->file;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_state_ = 1;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_utils_query_exists_async (_data_->_tmp2_, synapse_desktop_file_service_load_mime_parents_from_file_ready, _data_);
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 5262 "desktop-file-service.c"
	_state_1:
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = FALSE;
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp3_ = synapse_utils_query_exists_finish (_data_->_res_);
#line 576 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->exists = _data_->_tmp3_;
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = FALSE;
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_data_->_tmp4_ = _data_->exists;
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (!_data_->_tmp4_) {
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->file);
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (_data_->_state_ == 0) {
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 5282 "desktop-file-service.c"
		} else {
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_simple_async_result_complete (_data_->_async_result);
#line 5286 "desktop-file-service.c"
		}
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_object_unref (_data_->_async_result);
#line 577 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 5292 "desktop-file-service.c"
	}
	{
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp5_ = NULL;
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp5_ = _data_->file;
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_state_ = 2;
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_file_read_async (_data_->_tmp5_, G_PRIORITY_DEFAULT, NULL, synapse_desktop_file_service_load_mime_parents_from_file_ready, _data_);
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 5305 "desktop-file-service.c"
		_state_2:
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp6_ = NULL;
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp6_ = g_file_read_finish (_data_->_tmp5_, _data_->_res_, &_data_->_inner_error_);
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->fis = _data_->_tmp6_;
#line 580 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 5315 "desktop-file-service.c"
			goto __catch16_g_error;
		}
#line 581 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp7_ = NULL;
#line 581 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp7_ = _data_->fis;
#line 581 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp8_ = NULL;
#line 581 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_tmp8_ = g_data_input_stream_new ((GInputStream*) _data_->_tmp7_);
#line 581 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->dis = _data_->_tmp8_;
#line 582 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->line = NULL;
#line 583 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->mimes_length1 = 0;
#line 583 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_mimes_size_ = 0;
#line 583 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->mimes = NULL;
#line 583 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->mimes_length1 = 0;
#line 583 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_mimes_size_ = _data_->mimes_length1;
#line 584 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->len = 0;
#line 586 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		while (TRUE) {
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp10_ = NULL;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp10_ = _data_->dis;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_state_ = 3;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			g_data_input_stream_read_line_async (_data_->_tmp10_, G_PRIORITY_DEFAULT, NULL, synapse_desktop_file_service_load_mime_parents_from_file_ready, _data_);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			return FALSE;
#line 5354 "desktop-file-service.c"
			_state_3:
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp11_ = NULL;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp11_ = g_data_input_stream_read_line_finish (_data_->_tmp10_, _data_->_res_, NULL, &_data_->_inner_error_);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = _data_->_tmp11_;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_data_->mimes = (_vala_array_free (_data_->mimes, _data_->mimes_length1, (GDestroyNotify) g_free), NULL);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->line);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->dis);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_object_unref0 (_data_->fis);
#line 5372 "desktop-file-service.c"
				goto __catch16_g_error;
			}
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp12_ = NULL;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp12_ = _data_->_tmp9_;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp9_ = NULL;
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->line);
#line 587 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->line = _data_->_tmp12_;
#line 588 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp13_ = NULL;
#line 588 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp13_ = _data_->line;
#line 588 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_tmp13_ == NULL) {
#line 588 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->_tmp9_);
#line 588 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				break;
#line 5395 "desktop-file-service.c"
			}
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = NULL;
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp14_ = _data_->line;
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = FALSE;
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp15_ = g_str_has_prefix (_data_->_tmp14_, "#");
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_tmp15_) {
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->_tmp9_);
#line 589 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				continue;
#line 5411 "desktop-file-service.c"
			}
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp16_ = NULL;
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp16_ = _data_->line;
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp17_ = NULL;
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp18_ = NULL;
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp18_ = _data_->_tmp17_ = g_strsplit (_data_->_tmp16_, " ", 0);
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->mimes = (_vala_array_free (_data_->mimes, _data_->mimes_length1, (GDestroyNotify) g_free), NULL);
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->mimes = _data_->_tmp18_;
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->mimes_length1 = _vala_array_length (_data_->_tmp17_);
#line 590 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_mimes_size_ = _data_->mimes_length1;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19_ = NULL;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19__length1 = 0;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19_ = _data_->mimes;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp19__length1 = _data_->mimes_length1;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp20_ = 0U;
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp20_ = g_strv_length (_data_->_tmp19_);
#line 591 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->len = (gint) _data_->_tmp20_;
#line 592 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = 0;
#line 592 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp21_ = _data_->len;
#line 592 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (_data_->_tmp21_ != 2) {
#line 592 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->_tmp9_);
#line 592 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				continue;
#line 5455 "desktop-file-service.c"
			}
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = NULL;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22__length1 = 0;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22_ = _data_->mimes;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp22__length1 = _data_->mimes_length1;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = NULL;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp23_ = _data_->_tmp22_[0];
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = NULL;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24__length1 = 0;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24_ = _data_->mimes;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp24__length1 = _data_->mimes_length1;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp25_ = NULL;
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp25_ = _data_->_tmp24_[1];
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (g_strcmp0 (_data_->_tmp23_, _data_->_tmp25_) == 0) {
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				_g_free0 (_data_->_tmp9_);
#line 594 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				continue;
#line 5487 "desktop-file-service.c"
			}
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp26_ = NULL;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp26_ = _data_->self->priv->mimetype_parent_map;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp27_ = NULL;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp27__length1 = 0;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp27_ = _data_->mimes;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp27__length1 = _data_->mimes_length1;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp28_ = NULL;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp28_ = _data_->_tmp27_[0];
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp29_ = NULL;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp29__length1 = 0;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp29_ = _data_->mimes;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp29__length1 = _data_->mimes_length1;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp30_ = NULL;
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_data_->_tmp30_ = _data_->_tmp29_[1];
#line 596 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			gee_multi_map_set (_data_->_tmp26_, _data_->_tmp28_, _data_->_tmp30_);
#line 586 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (_data_->_tmp9_);
#line 5521 "desktop-file-service.c"
		}
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->mimes = (_vala_array_free (_data_->mimes, _data_->mimes_length1, (GDestroyNotify) g_free), NULL);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_free0 (_data_->line);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->dis);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->fis);
#line 5531 "desktop-file-service.c"
	}
	goto __finally16;
	__catch16_g_error:
	{
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->err = _data_->_inner_error_;
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_data_->_inner_error_ = NULL;
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_error_free0 (_data_->err);
#line 5542 "desktop-file-service.c"
	}
	__finally16:
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_data_->file);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_clear_error (&_data_->_inner_error_);
#line 578 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return FALSE;
#line 5555 "desktop-file-service.c"
	}
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_data_->file);
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_data_->_state_ == 0) {
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 5563 "desktop-file-service.c"
	} else {
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 5567 "desktop-file-service.c"
	}
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_object_unref (_data_->_async_result);
#line 573 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return FALSE;
#line 5573 "desktop-file-service.c"
}


static void synapse_desktop_file_service_add_dfi_for_mime (SynapseDesktopFileService* self, const gchar* mime, GeeSet* ret) {
	GeeList* dfis = NULL;
	GeeMap* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gpointer _tmp2_ = NULL;
	GeeList* _tmp3_ = NULL;
	GeeCollection* parents = NULL;
	GeeMultiMap* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	GeeCollection* _tmp8_ = NULL;
	GeeCollection* _tmp9_ = NULL;
#line 601 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (self != NULL);
#line 601 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (mime != NULL);
#line 601 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_if_fail (ret != NULL);
#line 603 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->mimetype_map;
#line 603 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = mime;
#line 603 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = gee_map_get (_tmp0_, _tmp1_);
#line 603 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	dfis = (GeeList*) _tmp2_;
#line 604 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = dfis;
#line 604 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp3_ != NULL) {
#line 5606 "desktop-file-service.c"
		GeeSet* _tmp4_ = NULL;
		GeeList* _tmp5_ = NULL;
#line 604 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp4_ = ret;
#line 604 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp5_ = dfis;
#line 604 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		gee_collection_add_all ((GeeCollection*) _tmp4_, (GeeCollection*) _tmp5_);
#line 5615 "desktop-file-service.c"
	}
#line 606 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp6_ = self->priv->mimetype_parent_map;
#line 606 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp7_ = mime;
#line 606 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp8_ = gee_multi_map_get (_tmp6_, _tmp7_);
#line 606 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	parents = _tmp8_;
#line 607 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp9_ = parents;
#line 607 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp9_ == NULL) {
#line 607 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (parents);
#line 607 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (dfis);
#line 607 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		return;
#line 5635 "desktop-file-service.c"
	}
	{
		GeeIterator* _parent_it = NULL;
		GeeCollection* _tmp10_ = NULL;
		GeeIterator* _tmp11_ = NULL;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp10_ = parents;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp11_ = gee_iterable_iterator ((GeeIterable*) _tmp10_);
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_parent_it = _tmp11_;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		while (TRUE) {
#line 5649 "desktop-file-service.c"
			GeeIterator* _tmp12_ = NULL;
			gboolean _tmp13_ = FALSE;
			gchar* parent = NULL;
			GeeIterator* _tmp14_ = NULL;
			gpointer _tmp15_ = NULL;
			const gchar* _tmp16_ = NULL;
			GeeSet* _tmp17_ = NULL;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp12_ = _parent_it;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp13_ = gee_iterator_next (_tmp12_);
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			if (!_tmp13_) {
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
				break;
#line 5665 "desktop-file-service.c"
			}
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp14_ = _parent_it;
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp15_ = gee_iterator_get (_tmp14_);
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			parent = (gchar*) _tmp15_;
#line 609 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp16_ = parent;
#line 609 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_tmp17_ = ret;
#line 609 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			synapse_desktop_file_service_add_dfi_for_mime (self, _tmp16_, _tmp17_);
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
			_g_free0 (parent);
#line 5681 "desktop-file-service.c"
		}
#line 608 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_parent_it);
#line 5685 "desktop-file-service.c"
	}
#line 601 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (parents);
#line 601 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (dfis);
#line 5691 "desktop-file-service.c"
}


GeeList* synapse_desktop_file_service_get_desktop_files (SynapseDesktopFileService* self) {
	GeeList* result = NULL;
	GeeList* _tmp0_ = NULL;
	GeeList* _tmp1_ = NULL;
	GeeList* _tmp2_ = NULL;
#line 613 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 615 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->non_hidden_desktop_files;
#line 615 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = gee_list_get_read_only_view (_tmp0_);
#line 615 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = _tmp1_;
#line 615 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp2_;
#line 615 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 5712 "desktop-file-service.c"
}


GeeList* synapse_desktop_file_service_get_all_desktop_files (SynapseDesktopFileService* self) {
	GeeList* result = NULL;
	GeeList* _tmp0_ = NULL;
	GeeList* _tmp1_ = NULL;
	GeeList* _tmp2_ = NULL;
#line 620 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 622 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->all_desktop_files;
#line 622 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = gee_list_get_read_only_view (_tmp0_);
#line 622 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = _tmp1_;
#line 622 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp2_;
#line 622 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 5733 "desktop-file-service.c"
}


GeeList* synapse_desktop_file_service_get_desktop_files_for_type (SynapseDesktopFileService* self, const gchar* mime_type) {
	GeeList* result = NULL;
	GeeHashSet* dfi_set = NULL;
	GeeHashSet* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	GeeArrayList* ret = NULL;
	GeeArrayList* _tmp2_ = NULL;
#line 625 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 625 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (mime_type != NULL, NULL);
#line 627 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = gee_hash_set_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 627 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	dfi_set = _tmp0_;
#line 628 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = mime_type;
#line 628 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_add_dfi_for_mime (self, _tmp1_, (GeeSet*) dfi_set);
#line 629 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 629 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	ret = _tmp2_;
#line 630 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	gee_array_list_add_all (ret, (GeeCollection*) dfi_set);
#line 631 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = (GeeList*) ret;
#line 631 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (dfi_set);
#line 631 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 5768 "desktop-file-service.c"
}


GeeList* synapse_desktop_file_service_get_desktop_files_for_exec (SynapseDesktopFileService* self, const gchar* exec) {
	GeeList* result = NULL;
	GeeList* _tmp0_ = NULL;
	GeeMap* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gpointer _tmp3_ = NULL;
	GeeList* _tmp5_ = NULL;
#line 634 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 634 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (exec != NULL, NULL);
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = self->priv->exec_map;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = exec;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = gee_map_get (_tmp1_, _tmp2_);
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = (GeeList*) _tmp3_;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	if (_tmp0_ == NULL) {
#line 5793 "desktop-file-service.c"
		GeeArrayList* _tmp4_ = NULL;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp4_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_g_object_unref0 (_tmp0_);
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
		_tmp0_ = (GeeList*) _tmp4_;
#line 5801 "desktop-file-service.c"
	}
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp5_ = _tmp0_;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = NULL;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = _tmp5_;
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (_tmp0_);
#line 636 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 5813 "desktop-file-service.c"
}


SynapseDesktopFileInfo* synapse_desktop_file_service_get_desktop_file_for_id (SynapseDesktopFileService* self, const gchar* desktop_id) {
	SynapseDesktopFileInfo* result = NULL;
	GeeMap* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gpointer _tmp2_ = NULL;
#line 639 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 639 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_return_val_if_fail (desktop_id != NULL, NULL);
#line 641 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = self->priv->desktop_id_map;
#line 641 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = desktop_id;
#line 641 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = gee_map_get (_tmp0_, _tmp1_);
#line 641 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	result = (SynapseDesktopFileInfo*) _tmp2_;
#line 641 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return result;
#line 5836 "desktop-file-service.c"
}


static GObject * synapse_desktop_file_service_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	SynapseDesktopFileService * self;
	GeeArrayList* _tmp0_ = NULL;
	GeeArrayList* _tmp1_ = NULL;
	GeeArrayList* _tmp2_ = NULL;
	GeeHashMultiMap* _tmp3_ = NULL;
	SynapseUtilsAsyncOnce* _tmp4_ = NULL;
#line 222 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	parent_class = G_OBJECT_CLASS (synapse_desktop_file_service_parent_class);
#line 222 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 222 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileService);
#line 224 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_instance = self;
#line 226 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp0_ = gee_array_list_new (g_file_monitor_get_type (), (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 226 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->directory_monitors);
#line 226 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->directory_monitors = (GeeList*) _tmp0_;
#line 227 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp1_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 227 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->all_desktop_files);
#line 227 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->all_desktop_files = (GeeList*) _tmp1_;
#line 228 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp2_ = gee_array_list_new (SYNAPSE_TYPE_DESKTOP_FILE_INFO, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
#line 228 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->non_hidden_desktop_files);
#line 228 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->non_hidden_desktop_files = (GeeList*) _tmp2_;
#line 229 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp3_ = gee_hash_multi_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 229 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->mimetype_parent_map);
#line 229 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->mimetype_parent_map = (GeeMultiMap*) _tmp3_;
#line 230 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_tmp4_ = synapse_utils_async_once_new (G_TYPE_BOOLEAN, NULL, NULL);
#line 230 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_synapse_utils_async_once_unref0 (self->priv->init_once);
#line 230 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->init_once = _tmp4_;
#line 232 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_initialize (self, NULL, NULL);
#line 222 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	return obj;
#line 5891 "desktop-file-service.c"
}


static void synapse_desktop_file_service_class_init (SynapseDesktopFileServiceClass * klass) {
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_parent_class = g_type_class_peek_parent (klass);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_type_class_add_private (klass, sizeof (SynapseDesktopFileServicePrivate));
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (klass)->constructor = synapse_desktop_file_service_constructor;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (klass)->finalize = synapse_desktop_file_service_finalize;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_signal_new ("reload_started", SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	g_signal_new ("reload_done", SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 5908 "desktop-file-service.c"
}


static void synapse_desktop_file_service_instance_init (SynapseDesktopFileService * self) {
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv = SYNAPSE_DESKTOP_FILE_SERVICE_GET_PRIVATE (self);
#line 257 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->session_type = SYNAPSE_DESKTOP_ENVIRONMENT_TYPE_GNOME;
#line 258 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->session_type_str = "GNOME";
#line 446 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self->priv->timer_id = (guint) 0;
#line 5921 "desktop-file-service.c"
}


static void synapse_desktop_file_service_finalize (GObject* obj) {
	SynapseDesktopFileService * self;
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SYNAPSE_TYPE_DESKTOP_FILE_SERVICE, SynapseDesktopFileService);
#line 237 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	synapse_desktop_file_service_instance = NULL;
#line 202 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_synapse_utils_async_once_unref0 (self->priv->init_once);
#line 214 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->directory_monitors);
#line 215 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->all_desktop_files);
#line 216 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->non_hidden_desktop_files);
#line 217 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->mimetype_map);
#line 218 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->exec_map);
#line 219 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->desktop_id_map);
#line 220 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	_g_object_unref0 (self->priv->mimetype_parent_map);
#line 199 "/home/heider/github/synapse/src/core/desktop-file-service.vala"
	G_OBJECT_CLASS (synapse_desktop_file_service_parent_class)->finalize (obj);
#line 5949 "desktop-file-service.c"
}


GType synapse_desktop_file_service_get_type (void) {
	static volatile gsize synapse_desktop_file_service_type_id__volatile = 0;
	if (g_once_init_enter (&synapse_desktop_file_service_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SynapseDesktopFileServiceClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) synapse_desktop_file_service_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SynapseDesktopFileService), 0, (GInstanceInitFunc) synapse_desktop_file_service_instance_init, NULL };
		GType synapse_desktop_file_service_type_id;
		synapse_desktop_file_service_type_id = g_type_register_static (G_TYPE_OBJECT, "SynapseDesktopFileService", &g_define_type_info, 0);
		g_once_init_leave (&synapse_desktop_file_service_type_id__volatile, synapse_desktop_file_service_type_id);
	}
	return synapse_desktop_file_service_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 5968 "desktop-file-service.c"
		int i;
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
				destroy_func (((gpointer*) array)[i]);
#line 5976 "desktop-file-service.c"
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	g_free (array);
#line 5988 "desktop-file-service.c"
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	if (array) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
		while (((gpointer*) array)[length]) {
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
			length++;
#line 6001 "desktop-file-service.c"
		}
	}
#line 239 "/home/heider/github/synapse/src/core/data-sink.vala"
	return length;
#line 6006 "desktop-file-service.c"
}



